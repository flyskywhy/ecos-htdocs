<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!--ArborText, Inc., 1988-2000, v.4002-->
<html>
<head>
<title>redboot-generic.htm</title>
<meta name="Generator" content="Arbortext Epic Version 4.1">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link charset="ISO-8859-1">
<script type="text/javascript" language="JavaScript">
function show(object) {
    if (document.layers && document.layers[object] != null)
        document.layers[object].visibility = 'visible';
    else if (document.all)
        document.all[object].style.visibility = 'visible';}
function hide(object) {
    if (document.layers && document.layers[object] != null)
        document.layers[object].visibility = 'hidden';
    else if (document.all)
        document.all[object].style.visibility = 'hidden';}</script>
<style type="text/css">
.FloatStyle {position: absolute; left: 5%; visibility: hidden;}
.flts {font-size: 9pt}
.fltp {line-height: 10pt}
.p6 {padding-top: 6pt}
.b {font-weight: bold}
.m {font-family: monospace}
.p8 {padding-top: 8pt}
.l11 {line-height: 11pt}
.s {font-family: sans-serif}
.l14al {line-height: 14pt; text-align: left}
.l14p14 {line-height: 14pt; padding-top: 14pt}
.f9s {font-size: 9pt; font-family: sans-serif}
.l1alp3 {line-height: 1pt; text-align: left; padding-top: 3pt}
.f14sb {font-size: 14pt; font-family: sans-serif; font-weight: bold}
.f9sb {font-size: 9pt; font-family: sans-serif; font-weight: bold}
.f16sb {font-size: 16pt; font-family: sans-serif; font-weight: bold}
.f18sbB {font-size: 18pt; font-family: sans-serif; font-weight: bold; color: blue}</style>
</head>
<body style="line-height: 16pt"><div class="pgbrk" style="padding-top: 48pt"><div
style="line-height: 26pt; text-align: center"><span class="f18sbB" style="font-size: 24pt"><a
name="a1"></a>RedBoot User&#8217;s Guide</span></div><h2 class="l14al" style="padding-top: -1pt"><span
class="f18sbB" style="font-size: 13pt"><a name="a3"></a>March 2001</span></h2><div
class="fltp" style="text-align: justify; padding-top: 7pt"><span class="f9s">&#169;
2001<span style="font-size: 12pt">&nbsp;</span>Red Hat</span></div><div class="p8"
style="text-align: justify"><span class="f9s"><img src="redboot-generic.htm.graphics/tallshadowman.jpg"
alt="tallshadowman.jpg"></span></div></div><div class="pgbrk" style="padding-top: 48pt"><br
class="pgbrk" style="padding-top: 48pt" clear="all"><div class="fltp"><span
class="f9sb" style="color: blue">Copyright</span></div><div class="fltp" style="text-align: justify; padding-top: 5pt"><span
class="f9s">Red Hat, the Red Hat Shadow Man logo&#174;, eCos&#8482;, RedBoot&#8482;,
GNUPro&#174;, and Insight&#8482; are trademarks of Red Hat, Inc. </span></div><div
class="fltp" style="text-align: justify; padding-top: 8pt"><span class="f9s">Samsung&#174;
and CalmRISC&#8482; are trademarks or registered trademarks of Samsung, Inc. </span></div><div
class="fltp" style="text-align: justify; padding-top: 8pt"><span class="f9s">Microsoft&#174;,
Windows&#174;, and Windows NT&#174; are registered trademarks of Microsoft
Corporation, Inc. </span></div><div class="fltp" style="text-align: justify; padding-top: 8pt"><span
class="f9s">Sun Microsystems&#174; and Solaris&#174; are registered trademarks
of Sun Microsystems, Inc. </span></div><div class="fltp" style="text-align: justify; padding-top: 8pt"><span
class="f9s">SPARC&#174; is a registered trademark of SPARC International,
Inc., and is used under license by Sun Microsystems, Inc. </span></div><div
class="fltp" style="text-align: justify; padding-top: 8pt"><span class="f9s">Intel&#174;
is a registered trademark of Intel Corporation.</span></div><div class="fltp"
style="text-align: justify; padding-top: 8pt"><span class="f9s">Motorola&#8482;
is a trademark of Motorola, Inc.</span></div><div class="fltp" style="text-align: justify; padding-top: 8pt"><span
class="f9s">ARM&#174; is a registered trademark of Advanced RISC Machines,
Ltd.</span></div><div class="fltp" style="text-align: justify; padding-top: 8pt"><span
class="f9s">MIPS&#8482; is a trademark of MIPS Technologies, Inc.</span></div><div
class="fltp" style="text-align: justify; padding-top: 8pt"><span class="f9s">Toshiba&#174;
is a registered trademark of the Toshiba Corporation.</span></div><div class="fltp"
style="text-align: justify; padding-top: 8pt"><span class="f9s">NEC&#174;
is a registered trademark if the NEC Corporation.</span></div><div class="fltp"
style="text-align: justify; padding-top: 8pt"><span class="f9s">Cirrus Logic&#174;
is a registered trademark of Cirrus Logic, Inc.</span></div><div class="fltp"
style="text-align: justify; padding-top: 8pt"><span class="f9s">Compaq&#174;
is a registered trademark of the Compaq Computer Corporation.</span></div><div
class="fltp" style="text-align: justify; padding-top: 8pt"><span class="f9s">Matsushita&#8482;
is a trademark of the Matushita Elecric Corporation.</span></div><div class="fltp"
style="text-align: justify; padding-top: 8pt"><span class="f9s">UNIX&#174;
is a registered trademark of The Open Group. </span></div><div class="fltp"
style="text-align: justify; padding-top: 8pt"><span class="f9s">All other
brand and product names, trademarks, and copyrights are the property of their
respective owners. </span></div><div class="fltp" style="text-align: justify; padding-top: 8pt"><span
class="f9s">No part of this document may be reproduced in any form or by any
means without the prior express written consent of Red Hat, Inc.</span></div><div
class="fltp" style="text-align: justify; padding-top: 8pt"><span class="f9s">No
part of this document may be changed and/or modified without the prior express
written consent of Red Hat, Inc. </span></div><div class="fltp" style="padding-top: 18pt"><span
class="f9sb" style="color: blue">Warranty</span></div><div class="fltp" style="text-align: justify; padding-top: 5pt"><span
class="f9s">eCos is free software, covered by the Red Hat eCos Public License,
and you are welcome to change it and/or distribute copies of it under certain
conditions. This version of eCos is supported for customers of Red Hat. See<span
style="font-style: italic"> http://www.sources.redhat.com/ecos/license-overview.html</span></span></div><div
class="fltp" style="text-align: justify; padding-top: 8pt"><span class="f9s">For
non-customers, eCos software has NO WARRANTY. </span></div><div class="fltp"
style="text-align: justify; padding-top: 8pt"><span class="f9s">Because this
software is licensed free of charge, there are no warranties for it, to the
extent permitted by applicable law. Except when otherwise stated in writing,
the copyright holders and/or other parties provide the software &#8220;as
is&#8221; without warranty of any kind, either expressed or implied, including,
but not limited to, the implied warranties of merchantability and fitness
for a particular purpose. The entire risk as to the quality and performance
of the software is with you. Should the software prove defective, you assume
the cost of all necessary servicing, repair or correction.</span></div><div
class="fltp" style="text-align: justify; padding-top: 8pt"><span class="f9s">In
no event, unless required by applicable law or agreed to in writing, will
any copyright holder, or any other party who may modify and/or redistribute
the program as permitted above, be liable to you for damages, including any
general, special, incidental or consequential damages arising out of the use
or inability to use the program (including but not limited to loss of data
or data being rendered inaccurate or losses sustained by you or third parties
or a failure of the program to operate with any other programs), even if such
holder or other party has been advised of the possibility of such damages.</span></div></div><div
class="pgbrk" style="padding-top: 48pt"><h1 style="line-height: 18pt; padding-top: -17pt"><span
class="f16sb" style="font-style: italic; color: blue"><a name="a280"></a>How
to Contact Red Hat</span></h1><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a282"></a>Red Hat Corporate Headquarters <br>2600
Meridian Parkway <br>Durham, NC 27713 USA <br>Telephone (toll free): +1 888
REDHAT 1 (+1 888 733 4281) <br>Telephone (main line): +1 919 547 0012 <br>Telephone
(FAX line): +1 919 547 0024 <br>Website: http://www.redhat.com</span></div></div><div
class="pgbrk" style="padding-top: 48pt"><div style="line-height: 18pt"><span
class="f16sb" style="color: blue"><a name="a299"></a><a id="Getting_Started_with_Redboot"
name="Getting_Started_with_Redboot"></a>Contents</span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span class="s"><a href="#a1">RedBoot
User&#8217;s Guide</a></span></div><div style="line-height: 13pt; text-align: justify"><span
class="s"><a href="#a280">How to Contact Red Hat</a></span></div><div style="line-height: 13pt; text-align: justify"><span
class="s"><a href="#a302">Chapter 1</a><a href="#a302">&nbsp;</a><a href="#a302">Getting
Started with RedBoot</a></span></div><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a1032">1.1</a><a href="#a1032">&nbsp;</a><a href="#a1032">Installing
RedBoot</a></span></div><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a1064">1.2</a><a href="#a1064">&nbsp;</a><a href="#a1064">User
Interface</a></span></div><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a1316">1.3</a><a href="#a1316">&nbsp;</a><a href="#a1316">Configuring
the RedBoot Environment</a></span></div><table width="15.3%" cellspacing="0"
cellpadding="0" align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a1560">1.3.1</a><a href="#a1560">&nbsp;</a><a href="#a1560">Target
Network Configuration</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a2309">1.3.2</a><a href="#a2309">&nbsp;</a><a href="#a2309">Host Network
Configuration</a></span></div></td>
</tr>
</table><br clear="all"><table width="23.0%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="61.3%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 20.8%"><span class="s" style="font-size: 10pt"><a
href="#a2565">1.3.2.1</a><a href="#a2565">&nbsp;</a><a href="#a2565">Enable
TFTP on Red Hat Linux 6.2</a></span></div></td>
</tr>
</table><br clear="all"><table width="23.0%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="61.3%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 20.8%"><span class="s" style="font-size: 10pt"><a
href="#a2820">1.3.2.2</a><a href="#a2820">&nbsp;</a><a href="#a2820">Enable
TFTP on Red Hat Linux 7</a></span></div></td>
</tr>
</table><br clear="all"><table width="23.0%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="61.3%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 20.8%"><span class="s" style="font-size: 10pt"><a
href="#a3087">1.3.2.3</a><a href="#a3087">&nbsp;</a><a href="#a3087">Enable
BOOTP server</a></span></div></td>
</tr>
</table><br clear="all"><table width="23.0%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="61.3%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 20.8%"><span class="s" style="font-size: 10pt"><a
href="#a3338">1.3.2.4</a><a href="#a3338">&nbsp;</a><a href="#a3338">RedBoot
network gateway</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a3365">1.3.3</a><a href="#a3365">&nbsp;</a><a href="#a3365">Verification</a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify"><span
class="s"><a href="#a3603">Chapter 2</a><a href="#a3603">&nbsp;</a><a href="#a3603">RedBoot
Commands and Examples</a></span></div><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a3607">2.1</a><a href="#a3607">&nbsp;</a><a href="#a3607">Introduction</a></span></div><div
style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span class="s"><a
href="#a4134">2.2</a><a href="#a4134">&nbsp;</a><a href="#a4134">RedBoot Editing
Commands</a></span></div><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a4618">2.3</a><a href="#a4618">&nbsp;</a><a href="#a4618">Common
Commands</a></span></div><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a4869">2.3.1</a><a href="#a4869">&nbsp;</a><a href="#a4869">Connectivity</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a5386">2.3.2</a><a href="#a5386">&nbsp;</a><a href="#a5386">General</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a5894">2.3.3</a><a href="#a5894">&nbsp;</a><a href="#a5894">Download
Process</a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a6418">2.4</a><a href="#a6418">&nbsp;</a><a href="#a6418">flash
Image System (FIS)</a></span></div><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a8225">2.5</a><a href="#a8225">&nbsp;</a><a href="#a8225">Persistent
State flash-based Configuration and Control</a></span></div><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a8731">2.6</a><a href="#a8731">&nbsp;</a><a href="#a8731">Executing
Programs from RedBoot</a></span></div><div style="line-height: 13pt; text-align: justify"><span
class="s"><a href="#a9008">Chapter 3</a><a href="#a9008">&nbsp;</a><a href="#a9008">Rebuilding
RedBoot</a></span></div><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a9218">3.1</a><a href="#a9218">&nbsp;</a><a href="#a9218">Introduction</a></span></div><table
width="15.3%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a9495">3.1.1</a><a href="#a9495">&nbsp;</a><a href="#a9495">Configuration
export files </a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify"><span
class="s"><a href="#a9744">Chapter 4</a><a href="#a9744">&nbsp;</a><a href="#a9744">Updating
RedBoot</a></span></div><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a9748">4.1</a><a href="#a9748">&nbsp;</a><a href="#a9748">Introduction</a></span></div><table
width="15.3%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a10002">4.1.1</a><a href="#a10002">&nbsp;</a><a href="#a10002">Start
RedBoot, Running from flash</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a10010">4.1.2</a><a href="#a10010">&nbsp;</a><a href="#a10010">Load
and start a different version of RedBoot, running from RAM</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a10243">4.1.3</a><a href="#a10243">&nbsp;</a><a href="#a10243">Update
the primary RedBoot flash image</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a10286">4.1.4</a><a href="#a10286">&nbsp;</a><a href="#a10286">Reboot;
run RedBoot from flash</a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify"><span
class="s"><a href="#a10512">Chapter 5</a><a href="#a10512">&nbsp;</a><a href="#a10512">Installation
and Testing</a></span></div><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a10529">5.1</a><a href="#a10529">&nbsp;</a><a href="#a10529">Cyclone
IQ80310</a></span></div><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a10533">5.1.1</a><a href="#a10533">&nbsp;</a><a href="#a10533">Overview</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a10792">5.1.2</a><a href="#a10792">&nbsp;</a><a href="#a10792">Initial
Installation Method</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a11036">5.1.3</a><a href="#a11036">&nbsp;</a><a href="#a11036">Using
RedBoot with ARM Bootloader </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a11044">5.1.4</a><a href="#a11044">&nbsp;</a><a href="#a11044">Special
RedBoot Commands </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a11055">5.1.5</a><a href="#a11055">&nbsp;</a><a href="#a11055">IQ80310
Hardware Tests</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a11305">5.1.6</a><a href="#a11305">&nbsp;</a><a href="#a11305">Rebuilding
RedBoot </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a11537">5.1.7</a><a href="#a11537">&nbsp;</a><a href="#a11537">Memory
Maps</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a11561">5.1.8</a><a href="#a11561">&nbsp;</a><a href="#a11561">Resource
Usage</a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a11785">5.2</a><a href="#a11785">&nbsp;</a><a href="#a11785">Intel
SA1100 (Brutus) </a></span></div><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a11789">5.2.1</a><a href="#a11789">&nbsp;</a><a href="#a11789">Overview</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12034">5.2.2</a><a href="#a12034">&nbsp;</a><a href="#a12034">Initial
Installation Method </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12042">5.2.3</a><a href="#a12042">&nbsp;</a><a href="#a12042">Special
RedBoot Commands </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12050">5.2.4</a><a href="#a12050">&nbsp;</a><a href="#a12050">Memory
Maps </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12071">5.2.5</a><a href="#a12071">&nbsp;</a><a href="#a12071">Resource
Usage </a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a12080">5.3</a><a href="#a12080">&nbsp;</a><a href="#a12080">Intel
StrongArm EBSA 285</a></span></div><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12290">5.3.1</a><a href="#a12290">&nbsp;</a><a href="#a12290">Overview</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12329">5.3.2</a><a href="#a12329">&nbsp;</a><a href="#a12329">Initial
Installation Method </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12546">5.3.3</a><a href="#a12546">&nbsp;</a><a href="#a12546">Communication
Channels </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12554">5.3.4</a><a href="#a12554">&nbsp;</a><a href="#a12554">Special
RedBoot Commands </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12562">5.3.5</a><a href="#a12562">&nbsp;</a><a href="#a12562">Memory
Maps </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12581">5.3.6</a><a href="#a12581">&nbsp;</a><a href="#a12581">Resource
Usage </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12592">5.3.7</a><a href="#a12592">&nbsp;</a><a href="#a12592">Intel
StrongARM EBSA-285 Building Test Cases to run with RedBoot</a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a12818">5.4</a><a href="#a12818">&nbsp;</a><a href="#a12818">Intel
SA1100 Multimedia Board </a></span></div><table width="15.3%" cellspacing="0"
cellpadding="0" align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a12822">5.4.1</a><a href="#a12822">&nbsp;</a><a href="#a12822">Overview</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a13064">5.4.2</a><a href="#a13064">&nbsp;</a><a href="#a13064">Initial
Installation Method </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a13072">5.4.3</a><a href="#a13072">&nbsp;</a><a href="#a13072">Special
RedBoot Commands </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a13080">5.4.4</a><a href="#a13080">&nbsp;</a><a href="#a13080">Memory
Maps </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a13101">5.4.5</a><a href="#a13101">&nbsp;</a><a href="#a13101">Resource
Usage </a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a13319">5.5</a><a href="#a13319">&nbsp;</a><a href="#a13319">Intel
SA1110 (Assabet) </a></span></div><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a13323">5.5.1</a><a href="#a13323">&nbsp;</a><a href="#a13323">Overview</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a13359">5.5.2</a><a href="#a13359">&nbsp;</a><a href="#a13359">Initial
Installation Method </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a13576">5.5.3</a><a href="#a13576">&nbsp;</a><a href="#a13576">Special
RedBoot Commands </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a13584">5.5.4</a><a href="#a13584">&nbsp;</a><a href="#a13584">Memory
Maps </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a13605">5.5.5</a><a href="#a13605">&nbsp;</a><a href="#a13605">Resource
Usage </a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a25133">5.6</a><a href="#a25133">&nbsp;</a><a href="#a25133">MIPS
Atlas Board with CoreLV 4Kc and CoreLV 5Kc </a></span></div><table width="15.3%"
cellspacing="0" cellpadding="0" align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a25137">5.6.1</a><a href="#a25137">&nbsp;</a><a href="#a25137">Overview</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a16675">5.6.2</a><a href="#a16675">&nbsp;</a><a href="#a16675">Initial
Installation Method </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a23337">5.6.3</a><a href="#a23337">&nbsp;</a><a href="#a23337">Memory
Maps </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a31754">5.6.4</a><a href="#a31754">&nbsp;</a><a href="#a31754">Resource
Usage </a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a14866">5.7</a><a href="#a14866">&nbsp;</a><a href="#a14866">QED
MIPS RM7000 Ocelot</a></span></div><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a14870">5.7.1</a><a href="#a14870">&nbsp;</a><a href="#a14870">Overview</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a15112">5.7.2</a><a href="#a15112">&nbsp;</a><a href="#a15112">Initial
Installation Method </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a15120">5.7.3</a><a href="#a15120">&nbsp;</a><a href="#a15120">Special
RedBoot Commands </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a15128">5.7.4</a><a href="#a15128">&nbsp;</a><a href="#a15128">Memory
Maps </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a15150">5.7.5</a><a href="#a15150">&nbsp;</a><a href="#a15150">Resource
Usage </a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a15368">5.8</a><a href="#a15368">&nbsp;</a><a href="#a15368">Motorola
PowerPC MBX</a></span></div><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a15372">5.8.1</a><a href="#a15372">&nbsp;</a><a href="#a15372">Overview</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a15617">5.8.2</a><a href="#a15617">&nbsp;</a><a href="#a15617">Initial
Installation Method </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a15894">5.8.3</a><a href="#a15894">&nbsp;</a><a href="#a15894">Special
RedBoot Commands </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a15902">5.8.4</a><a href="#a15902">&nbsp;</a><a href="#a15902">Memory
Maps </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a15913">5.8.5</a><a href="#a15913">&nbsp;</a><a href="#a15913">Resource
Usage </a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify; padding-left: 7.6%"><span
class="s"><a href="#a16128">5.9</a><a href="#a16128">&nbsp;</a><a href="#a16128">ARM
ARM7 PID, Dev7 and Dev9</a></span></div><table width="15.3%" cellspacing="0"
cellpadding="0" align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a16132">5.9.1</a><a href="#a16132">&nbsp;</a><a href="#a16132">Overview</a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a16168">5.9.2</a><a href="#a16168">&nbsp;</a><a href="#a16168">Initial
Installation Method </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a16392">5.9.3</a><a href="#a16392">&nbsp;</a><a href="#a16392">Special
RedBoot Commands </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a16400">5.9.4</a><a href="#a16400">&nbsp;</a><a href="#a16400">Memory
Maps </a></span></div></td>
</tr>
</table><br clear="all"><table width="15.3%" cellspacing="0" cellpadding="0"
align="left">
<tr>
<td>&nbsp;</td>
</tr>
</table><table width="69.0%" cellspacing="0" cellpadding="0" align="left">
<tr>
<td><div class="l11" style="padding: 3pt 0% 0% 11.1%"><span class="s" style="font-size: 10pt"><a
href="#a16411">5.9.5</a><a href="#a16411">&nbsp;</a><a href="#a16411">Resource
Usage </a></span></div></td>
</tr>
</table><br clear="all"><div style="line-height: 13pt; text-align: justify"><span
class="s"><a href="#a299"></a><a href="#a299"></a><a href="#a299"></a></span></div></div><div
class="pgbrk" style="padding-top: 48pt"><h1 style="line-height: 19pt; padding-top: -18pt"><span
class="f18sbB" style="font-size: 17pt"><a name="a300"></a><a name="a302"></a><a
id="Getting_Started_with_RedBoot" name="Getting_Started_with_RedBoot"></a>1<span
style="font-size: 12pt">&nbsp;&nbsp;&nbsp;&nbsp;</span>Getting Started with
RedBoot</span></h1><div style="line-height: 13pt; text-align: justify; padding-top: 9pt"><span
style="font-family: serif"><a name="a304"></a><a name="a524"></a><a name="a531"></a>RedBoot&#174;
is an acronym for &quot;Red Hat Embedded Debug and Bootstrap&quot;, and is
the standard embedded system debug/bootstrap environment from Red Hat, replacing
the existing debug/boot tools: <a name="a533"></a><a name="a537"></a>CygMon
and <a name="a539"></a><a name="a543"></a>GDB stubs. It provides a complete
bootstrap environment for a range of embedded operating systems, such as embedded
Linux and eCos&#8482;, and includes facilities such as network downloading
and debugging. It also provides a simple flash file system for boot images.</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">RedBoot
provides a wide set of tools for downloading and executing programs on embedded
target systems, as well as tools for manipulating the target system&#8217;s
environment. It can be used for both product development (debug support) and
for end product deployment (flash and network booting).</span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Here
are some highlights of <a name="a554"></a><a name="a558"></a>RedBoot&#8217;s
capabilities:  </span></div><div class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Serial and network (Ethernet) based
debugging support, providing connectivity between host and target systems</span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Boot scripting support</span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Simple command line interface for
RedBoot configuration and management, accessible via serial (terminal) or
Ethernet (telnet) </span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Integrated GDB stubs for connection
to a host-based debugger via serial or ethernet. (Ethernet connectivity is
limited to local network only)</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Attribute Configuration - user control
of aspects such as system time and date (if applicable), default Flash image
to boot from, default failsafe image, static IP address, etc.</span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Configurable and extensible, specifically
adapted to the target environment </span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Network bootstrap support including
setup and download, via BOOTP, DHCP and TFTP</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"
><span style="font-family: serif">&#8226;&nbsp;X/YModem support for image
download via serial</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Power On Self Test</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Although
RedBoot is derived from Red Hat eCos, it may be used as a generalized system
debug and bootstrap control software for any embedded system and any operating
system. For example, with appropriate additions, RedBoot could replace the
commonly used BIOS of PC (and certain other) architectures. Red Hat is currently
installing RedBoot on all embedded platforms as a standard practice, and RedBoot
is now generally included as part of all Red Hat Embedded Linux and eCos ports.
Users who specifically wish to use RedBoot with the eCos operating system
should refer to the <span style="font-style: italic">Getting Started with
eCos</span> document, which provides information about the portability and
extendability of RedBoot in an eCos environment.</span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">This
chapter explains how to install and configure RedBoot for your target.</span></div><h2
class="l14p14" style="line-height: 18pt"><span class="f16sb" style="color: blue"><a
name="a1032"></a>1.1<span style="font-size: 12pt">&nbsp;&nbsp;</span>Installing
RedBoot</span></h2><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a1034"></a><a name="a1036"></a><a name="a1043"></a><a
name="a1044"></a><a name="a1051"></a>To install the RedBoot package, follow
the procedures detailed in the accompanying README. </span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Although
there are other possible configurations, RedBoot is usually run from the target
platform&#8217;s flash boot sector or boot ROM, and is designed to run when
your system is initially powered on. The method used to install the RedBoot
image into non-volatile storage varies from platform to platform. In general,
it requires that the image be programmed into flash in situ or programmed
into the flash or ROM using a device programmer. In some cases this will be
done at manufacturing time; the platform being delivered with RedBoot already
in place. In other cases, you will have to program RedBoot into the appropriate
device(s) yourself. Installing to flash in situ may require special cabling
or interface devices and software provided by the board manufacturer. The
details of this installation process for a given platform will be found in
Installation and Testing. Once installed, user-specific configuration options
may be applied, using the </span><span class="m">fconfig</span><span style="font-family: serif">
command, providing that persistent data storage in flash is present in the
relevant RedBoot version. See <a href="#a1316">Section 1.3</a> for details.</span></div><h2
class="l14p14" style="line-height: 18pt"><span class="f16sb" style="color: blue"><a
name="a1064"></a>1.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>User
Interface</span></h2><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a1066"></a><a name="a1068"></a><a name="a1072"></a><a
name="a1073"></a><a name="a1283"></a><a name="a1284"></a><a name="a1288"></a>RedBoot
provides a command line user interface (CLI). At the minimum, this interface
is normally available on a serial port on the platform. If more than one serial
interface is available, RedBoot is normally configured to try to use any one
of the ports for the CLI. Once command input has been received on one port,
that port is used exclusively until reset. If the platform has networking
capabilities, the RedBoot CLI is also accessible using the </span><span class="m">telnet</span><span
style="font-family: serif"> access protocol. By default, RedBoot runs </span><span
class="m"><a name="a1295"></a><a name="a1299"></a>telnet</span><span style="font-family: serif">
on port TCP/9000, but this is configurable and/or settable by the user. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">RedBoot
also contains a set of <a name="a1306"></a><a name="a1310"></a>GDB &quot;stubs&quot;,
consisting of code which supports the GDB remote protocol. GDB stub mode is
automatically invoked when the &#8217;$&#8217; character appears as the first
character of a command line. The platform will remain in GDB stub mode until
explicitly disconnected (via the GDB protocol). The GDB stub mode is available
regardless of the connection method; either serial or network. Note that if
a GDB connection is made via the network, then special care must be taken
to preserve that connection when running user code. eCos contains special
network sharing code to allow for this situation, and can be used as a model
if this methodology is required in other OS environments.</span></div><h2
class="l14p14" style="line-height: 18pt"><span class="f16sb" style="color: blue"><a
name="a1316"></a><a id="Configuring_the_RedBoot_Environment" name="Configuring_the_RedBoot_Environment"></a>1.3<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Configuring the RedBoot Environment</span></h2><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a1318"></a><a name="a1320"></a><a name="a1326"></a><a name="a1327"></a><a
name="a1540"></a><a name="a1541"></a><a name="a1545"></a>Once installed, RedBoot
will operate fairly generically. However, there are some features that can
be configured for a particular installation. These depend primarily on whether <a
name="a1547"></a><a name="a1551"></a><a name="a1552"></a><a name="a1556"></a>flash
and/or networking support are available. The remainder of this discussion
assumes that support for both of these options is included in RedBoot.</span></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a1560"></a>1.3.1<span style="font-size: 12pt">&nbsp;&nbsp;</span>Target
Network Configuration</span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a1562"></a><a name="a1564"></a><a name="a1568"></a><a
name="a1569"></a><a name="a1573"></a><a name="a1574"></a><a name="a1581"></a>Each
node in a networked system needs to have a unique address. Since the network
support in RedBoot is based on <a name="a1583"></a><a name="a1793"></a>TCP/IP,
this address is an IP (Internet Protocol) address. <a name="a1795"></a><a
name="a1799"></a>There are two ways for a system to &#8220;know&#8221; its
IP address. First, it can be stored locally on the platform. This is known
as having a static IP address. Second, the system can use the network itself
to discover its IP address. This is known as a dynamic IP address. RedBoot
supports this dynamic IP address mode by use of the <a name="a1801"></a><a
name="a1805"></a>BOOTP (a subset of <a name="a1807"></a><a name="a1811"></a>DHCP)
protocol. In this case, RedBoot will ask the network (actually some generic
server on the network) for the IP address to use.</span></div><div class="p8"
style="padding-left: 5.1%"><span style="font-family: serif"><img src="redboot-generic.htm.graphics/note.gif"
alt="C:\Program Files\Epic\entities\note.eps" height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span
class="f18sbB" style="font-size: 13pt">NOTE</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">Currently, RedBoot only supports BOOTP. In future
releases, DHCP may also be supported, but such support will be limited to
additional data items, not lease-based address allocation.</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">The
choice of <a name="a1824"></a><a name="a1828"></a>IP address type is made
via the </span><span class="m"><a name="a1830"></a><a name="a1834"></a>fconfig</span><span
style="font-family: serif"> command. Once a selection is made, it will be
stored in flash memory. RedBoot only queries the flash configuration information
at reset, so any changes will require restarting the platform.</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Here
is an example of the RedBoot </span><span class="m">fconfig</span><span style="font-family: serif">
command, showing network addressing:    </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><span
class="flts" style="font-family: monospace">RedBoot>&nbsp;<span class="b">fconfig</span>&nbsp;&nbsp;-1&nbsp;&nbsp;<br>Run&nbsp;script&nbsp;at&nbsp;boot:&nbsp;false&nbsp;&nbsp;&nbsp;<br
>Use&nbsp;BOOTP&nbsp;for&nbsp;network&nbsp;configuration:&nbsp;false&nbsp;<br>Local&nbsp;IP&nbsp;address:&nbsp;192.168.1.29&nbsp;&nbsp;&nbsp;<br>Default&nbsp;server&nbsp;IP&nbsp;address:&nbsp;192.168.1.101&nbsp;&nbsp;&nbsp;<br
>GDB&nbsp;connection&nbsp;port:&nbsp;9000&nbsp;&nbsp;&nbsp;<br>Network&nbsp;debug&nbsp;at&nbsp;boot&nbsp;time:&nbsp;false&nbsp;&nbsp;</span></div
><div class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">In
this case, the board has been configured with a static IP address listed as
the Local IP address. The default server IP address specifies which network
node to communicate with for TFTP service. This address can be overridden
directly in the <a name="a2062"></a><a name="a2066"></a>TFTP commands.</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">If
the selection for </span><span class="m">Use BOOTP for network configuration</span><span
style="font-family: serif"> had been </span><span class="m">true</span><span
style="font-family: serif">, these IP addresses would be determined at boot
time, via the BOOTP protocol. The final number which needs to be configured,
regardless of IP address selection mode, is the </span><span class="m"><a
name="a2079"></a><a name="a2083"></a>GDB connection port</span><span style="font-family: serif">.
RedBoot allows for incoming commands on either the available serial ports
or via the network. This port number is the TCP port that RedBoot will use
to accept incoming connections.  </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">These connections can be used for GDB sessions,
but they can also be used for generic RedBoot commands. In particular, it
is possible to communicate with RedBoot via the <a name="a2091"></a><a name="a2095"></a>telnet
protocol. For example, on Linux&#174;: </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">% telnet redboot_board 9000  
Connected to redboot_board   
Escape character is &#8216;^]&#8217;.
RedBoot>  </pre></div><h3 class="l14p14" style="line-height: 17pt"><span class="f18sbB"
style="font-size: 15pt"><a name="a2309"></a>1.3.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Host
Network Configuration</span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a2311"></a><a name="a2313"></a><a name="a2317"></a><a
name="a2318"></a><a name="a2325"></a><a name="a2326"></a><a name="a2333"></a>RedBoot
may require two different classes of service from a network host:   </span></div><div
class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;dynamic IP address allocation, using
BOOTP   </span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;TFTP service for file downloading </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Depending
on the host system, these services may or may not be available or enabled
by default. See your system documentation for more details.</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">In
particular, on Red Hat Linux, neither of these services will be configured
out of the box. The following will provide a limited explanation of how to
set them up. These configuration setups must be done as </span><span class="m">root</span><span
style="font-family: serif"> on the host or server machine.</span></div><h4
style="line-height: 15pt; padding-top: 13pt"><span class="f14sb" style="color: blue"><a
name="a2565"></a>1.3.2.1<span style="font-size: 12pt">&nbsp;&nbsp;</span>Enable
TFTP on Red Hat Linux 6.2</span></h4><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 7pt 0% 0% 3.8%"><span
style="font-family: serif"><a name="a2567"></a>1.&nbsp;<a name="a2571"></a><a
name="a2578"></a><a name="a2579"></a><a name="a2586"></a>Ensure that you have
the tftp-server RPM package installed. By default, this installs the TFTP
server in a disabled state. These steps will enable it:</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"
><span style="font-family: serif">2.&nbsp;Make sure that the following line
is uncommented in the control file </span></div><div class="fltp" style="padding: 8pt 0% 0% 7.6%"><pre
class="flts" style="padding-left: 7.6%">/etc/inetd.conf<br><br> tftp dgram   udp     wait    root    /usr/sbin/tcpd  \<br>      /usr/sbin/in.tftpd</pre
></div><div class="p8" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">3.&nbsp;If it was necessary to change the line
in Step 2, then the inetd server must be restarted, which can be done via
the command:    </span></div><div class="fltp" style="padding: 8pt 0% 0% 7.6%"><pre
class="flts" style="padding-left: 7.6%"># service inet reload</pre></div><h4
style="line-height: 15pt; padding-top: 13pt"><span class="f14sb" style="color: blue"><a
name="a2820"></a>1.3.2.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Enable
TFTP on Red Hat Linux 7</span></h4><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 7pt 0% 0% 3.8%"><span
style="font-family: serif"><a name="a2822"></a>1.&nbsp;<a name="a2826"></a><a
name="a2833"></a><a name="a2834"></a><a name="a2841"></a>Ensure that the xinetd
RPM is installed.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">2.&nbsp;Ensure that the tftp-server RPM is installed.</span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">3.&nbsp;Enable TFTP by means of the following: </span></div><div
class="fltp" style="padding: 8pt 0% 0% 7.6%"><pre class="flts" style="padding-left: 7.6%">/sbin/chkconfig tftp on </pre></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 3.8%"><span
style="font-family: serif">Reload the xinetd configuration using the command:</span></div><div
class="fltp" style="padding: 8pt 0% 0% 7.6%"><pre class="flts" style="padding-left: 7.6%"> /sbin/service xinetd reload </pre></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 3.8%"><span
style="font-family: serif">Create the directory /tftpboot using the command </span></div><div
class="fltp" style="padding: 8pt 0% 0% 7.6%"><pre class="flts" style="padding-left: 7.6%">mkdir /tftpboot</pre></div><div
class="p8" style="padding-left: 5.1%"><span style="font-family: serif"><img
src="redboot-generic.htm.graphics/note.gif" alt="C:\Program Files\Epic\entities\note.eps"
height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span class="f18sbB"
style="font-size: 13pt">NOTE</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">Under Red Hat 7 you must address files by absolute
pathnames, for example: </span><span class="m">/tftpboot/boot.img not /boot.img</span><span
style="font-family: serif">, as you may have done with other implementations.</span></div><h4
style="line-height: 15pt; padding-top: 13pt"><span class="f14sb" style="color: blue"><a
name="a3087"></a>1.3.2.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Enable
BOOTP server</span></h4><div style="line-height: 13pt; text-align: justify; padding-top: 7pt"><span
style="font-family: serif"><a name="a3089"></a><a name="a3091"></a><a name="a3098"></a>DHCP
and <a name="a3100"></a><a name="a3107"></a>First, ensure that you have the
proper package, </span><span class="m">dhcp</span><span style="font-family: serif">
(not </span><span class="m">dhcpd</span><span style="font-family: serif">)
installed. The DHCP server provides Dynamic Host Configuration, that is, IP
address and other data to hosts on a network. It does this in different ways.
Next, there can be a fixed relationship between a certain node and the data,
based on that node&#8217;s unique Ethernet Station Address (ESA, sometimes
called a MAC address). The other possibility is simply to assign addresses
that are free. The sample DHCP configuration file shown does both. Refer to
the DHCP documentation for more details.</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">--------------- /etc/dhcpd.conf -----------------------------
default-lease-time 600; 
max-lease-time 7200; 
option subnet-mask 255.255.255.0; 
option broadcast-address 192.168.1.255; 
option domain-name-servers 63.225.98.241, 206.196.128.1, \<br>    205.180.230.20,205.180.230.21; 
option domain-name &#8220;bogus.com&#8221;; 
allow bootp;
shared-network BOGUS {   
subnet 192.168.1.0 netmask 255.255.255.0 {
         option routers 192.168.1.101;
         range 192.168.1.1 192.168.1.254;   
}
 }
host mbx {
         hardware ethernet 08:00:3E:28:79:B8;
         fixed-address 192.168.1.20;
         filename &#8220;/tftpboot/192.168.1.21/zImage&#8221;;
         default-lease-time -1;
         server-name &#8220;srvr.bugus.com&#8221;;
         server-identifier 192.168.1.101;
         option host-name &#8220;mbx&#8221;;
} </pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Once the DHCP package has been installed and the
configuration file set up, type:   </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%"> # service dhcpd start</pre></div><h4
style="line-height: 15pt; padding-top: 13pt"><span class="f14sb" style="color: blue"><a
name="a3338"></a>1.3.2.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>RedBoot
network gateway</span></h4><div style="line-height: 13pt; text-align: justify; padding-top: 7pt"><span
style="font-family: serif"><a name="a3340"></a><a name="a3342"></a><a name="a3346"></a><a
name="a3347"></a><a name="a3351"></a>RedBoot cannot communicate with machines
on different subnets because it does not support routing. It always assumes
that it can get to an address directly, therefore it always tries to ARP and
then send packets directly to that unit. This means that whatever it talks
to must be on the same subnet. If you need to talk to a host on a different
subnet (even if it&#8217;s on the same &#8216;wire&#8217;), you need to go
through an ARP proxy, providing that there is a Linux box connected to the
network which is able to route to the TFTP server. For example: </span><span
class="m">/proc/sys/net/ipv4/conf//proxy_arp </span><span style="font-family: serif">where </span><span
class="m">&lt;interface></span><span style="font-family: serif">should be
replaced with whichever network interface is nearest to the board.</span></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a3365"></a>1.3.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Verification</span></h3><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a3367"></a><a name="a3369"></a><a name="a3373"></a><a name="a3374"></a><a
name="a3584"></a>Once your network setup has been configured, perform simple
verification tests as follows: </span></div><div class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"
><span style="font-family: serif">&#8226;&nbsp;Reboot your system, to enable
the setup, and then try to &#8216;ping&#8217; the target board from a host.</span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Once communication has been established,
try using the RedBoot load command to download a file from a host.</span></div></div><div
class="pgbrk" style="padding-top: 48pt"><h1 style="line-height: 19pt; padding-top: -18pt"><span
class="f18sbB" style="font-size: 17pt"><a name="a3603"></a><a id="RedBoot_Commands_and_Examples"
name="RedBoot_Commands_and_Examples"></a>2<span style="font-size: 12pt">&nbsp;&nbsp;&nbsp;&nbsp;</span>RedBoot
Commands and Examples</span></h1><h2 style="line-height: 18pt; padding-top: -8pt"><span
class="f16sb" style="color: blue"><a name="a3605"></a><a name="a3607"></a>2.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Introduction</span></h2><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a3609"></a><a name="a3611"></a><a name="a3618"></a><a name="a3619"></a><a
name="a3623"></a>RedBoot provides three basic classes of commands:    </span></div><div
class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Program loading and execution</span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;flash image and configuration management</span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Miscellaneous commands</span></div><div
style="line-height: 13pt; text-align: justify; padding-top: 7pt"><span style="font-family: serif">Given
the extensible and configurable nature of eCos and RedBoot, there may be extended
or enhanced sets of commands available.</span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">The basic format for commands is:    </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">RedBoot> COMMAND [-S] [-s val]operand</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Commands
may require additional information beyond the basic command name. In most
cases this additional information is optional, with suitable default values
provided if they are not present. The type of information required affects
how it is specified:   </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%"> [-S]</pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">An optional switch. If this switch is present,
then some particular action will take place. For example in the command  
     </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">RedBoot> fis init -f </pre></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">the
-f switch indicates to perform a full file system initialization. </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%"> [-s val]</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">An
optional switch which requires an associated value. For example the command:
       </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">RedBoot> load -b 0x00100000 data_file</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">specifies
downloading a file (via TFTP) into memory, relocating it to location 0x00100000. </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">operand</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">This
format is used in a case where a command has one operand which must always
be present (no -s is required since it is always implied). For example the
command        </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">RedBoot> go 0x10044</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">specifies
executing the code starting at location 0x10044. </span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">The
list of available commands, and their syntax, can be obtained by typing </span><span
class="m">help</span><span style="font-family: serif"> at the command line:
   </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><span class="flts"
style="font-family: monospace">RedBoot>&nbsp;<span class="b">help</span>&nbsp;&nbsp;&nbsp;<br>Manage&nbsp;machine&nbsp;caches<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache&nbsp;[ON&nbsp;|&nbsp;OFF]&nbsp;&nbsp;&nbsp;<br
>Display&nbsp;(hex&nbsp;dump)&nbsp;a&nbsp;range&nbsp;of&nbsp;memory<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump&nbsp;-b&nbsp;&lt;location>&nbsp;[-l&nbsp;&lt;length>]&nbsp;&nbsp;<br
>Manage&nbsp;flash&nbsp;images<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fis&nbsp;{cmds}&nbsp;&nbsp;&nbsp;<br>Manage&nbsp;configuration&nbsp;kept&nbsp;in&nbsp;flash&nbsp;memory<br
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fconfig&nbsp;[-l]&nbsp;&nbsp;<br>Execute&nbsp;code&nbsp;at&nbsp;a&nbsp;location<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go&nbsp;[-w&nbsp;&lt;timeout>]&nbsp;[entry]&nbsp;&nbsp;<br
>Help&nbsp;about&nbsp;help?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;help&nbsp;[&lt;topic>]&nbsp;&nbsp;&nbsp;<br>Load&nbsp;a&nbsp;file<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;load&nbsp;[-r]&nbsp;[-v]&nbsp;[-d]&nbsp;[-h&nbsp;&lt;host>]&nbsp;[-m&nbsp;{TFTP&nbsp;|&nbsp;xyzMODEM}]<br
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[-b&nbsp;&lt;base_address>]&nbsp;&lt;file_name>&nbsp;&nbsp;&nbsp;<br>Network&nbsp;connectivity&nbsp;test<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ping&nbsp;[-v]&nbsp;[-n&nbsp;&lt;count>]&nbsp;[-t&nbsp;&lt;timeout>]&nbsp;[-i&nbsp;&lt;IP_addr]<br
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-h&nbsp;&lt;IP_addr>&nbsp;&nbsp;&nbsp;Reset&nbsp;the&nbsp;system<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reset&nbsp;&nbsp;Display&nbsp;RedBoot&nbsp;version&nbsp;information<br
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version</span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Commands can be abbreviated to their shortest unique
string. Thus in the list above, </span><span class="m">d,du,dum</span><span
style="font-family: serif"> and dump are all valid for the dump command. The </span><span
class="m">fconfig</span><span style="font-family: serif"> command can be abbreviated </span><span
class="m">fc</span><span style="font-family: serif">, but </span><span class="m">f</span><span
style="font-family: serif"> would be ambiguous with </span><span class="m">fis</span><span
style="font-family: serif">. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">There is one additional, special command. When
RedBoot detects $ as the first character in a command, it switches to GDB
protocol mode. At this point, the eCos GDB stubs take over, allowing connections
from a GDB host. The only way to get back to RedBoot from GDB mode is to restart
the platform. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">The standard RedBoot command set is structured
around the bootstrap environment. These commands are designed to be simple
to use and remember, while still providing sufficient power and flexibility
to be useful. No attempt has been made to render RedBoot as the end-all product.
As such, things such as the debug environment are left to other modules, such
as GDB stubs, which are typically included in RedBoot. </span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">The
command set may be also be extended on a platform basis. </span></div><h2
class="l14p14" style="line-height: 18pt"><span class="f16sb" style="color: blue"><a
name="a4134"></a><a id="RedBoot_Editing_Commands" name="RedBoot_Editing_Commands"></a>2.2<span
style="font-size: 12pt">&nbsp;&nbsp;</span>RedBoot Editing Commands</span></h2><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a4136"></a><a name="a4138"></a><a name="a4145"></a><a name="a4352"></a><a
name="a4356"></a><a name="a4357"></a><a name="a4364"></a>RedBoot uses the
following line editing commands. </span></div><div class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"
><span style="font-family: serif">&#8226;&nbsp;</span><span class="f9sb">Delete</span><span
style="font-family: serif"> (0x7F) or </span><span class="f9sb">Backspace</span><span
style="font-family: serif"> (0x08) moves the cursor back one character and
erases what is there destructively.</span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 3.8%"><span
style="font-family: serif">The mention of ^ is in the context of the </span><span
class="m">fconfig</span><span style="font-family: serif"> command. This command
uses some special line-editing features. When certain characters appear alone
on the input line, a behavior is elicited.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"
><span style="font-family: serif">&#8226;&nbsp;^ (caret) switch to editing
the previous item in the </span><span class="m">fconfig</span><span style="font-family: serif">
list. If fconfig edits item A, followed by item B, pressing ^ when changing
item B, allows you to change item A. This is similar to the up arrow.</span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;. (period) stop editing any further
items. This does not change the current item.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"
><span style="font-family: serif">&#8226;&nbsp;</span><span class="f9sb">Return</span><span
style="font-family: serif"> (blank line) leaves the value for this item unchanged.
Currently it is not possible to step through the value for the start-up script;
it must always be retyped.</span></div><h2 class="l14p14" style="line-height: 18pt"><span
class="f16sb" style="color: blue"><a name="a4618"></a>2.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Common
Commands</span></h2><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a4620"></a><a name="a4622"></a><a name="a4629"></a>The
general format of commands is:    </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">command &lt;options, parameters></pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Elements
are separated by the space character. Other control characters, such as </span><span
class="f9sb">Tab</span><span style="font-family: serif"> or editing keys (</span><span
class="f9sb">Insert</span><span style="font-family: serif">) are not currently
supported. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Numbers, such as a memory location, may be specified
in either decimal or hexadecimal (requires a 0x prefix). </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Commands
may be abbreviated to any unique string. For example, </span><span class="m">lo</span><span
style="font-family: serif"> is equivalent to </span><span class="m">loa</span><span
style="font-family: serif"> and </span><span class="m">load</span><span style="font-family: serif">. </span></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a4869"></a>2.3.1<span style="font-size: 12pt">&nbsp;&nbsp;</span>Connectivity</span></h3><div
class="p8" style="line-height: 13pt; text-align: justify"><span class="b"
style="font-family: serif"><a name="a4871"></a><a name="a4873"></a><a name="a4880"></a><a
name="a4881"></a><a name="a4885"></a>ping - Check network connectivity ping </span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
class="m">ping [-v] [-n &lt;count>] [-l &lt;length>] [-t &lt;timeouts>] [-r &lt;rate>][-i &lt;IP_addr>]
-h &lt;IP_addr></span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">The ping command checks the connectivity of the
local network by sending special (ICMP) packets to a specific host. These
packets should be automatically returned by that host. The command will indicate
how many of these round-trips were successfully completed. </span></div><h2
class="l14al" style="padding-top: 12pt"><span class="f18sbB" style="font-size: 13pt">Arguments</span></h2><div><table
width="100%" border="0" cellspacing="0" cellpadding="5pt"><tbody>
<tr>
<td width="26%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-v	</span></div></td>
<td width="73%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Be
verbose, displaying information about each packet sent.</span></div></td>
</tr>
<tr>
<td width="26%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-n &lt;count></span></div></td>
<td width="73%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Controls
the number of packets to be sent. Default is 10 if -n is not specified.</span></div></td>
</tr>
<tr>
<td width="26%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-t &lt;timeout></span></div></td>
<td width="73%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">How
long to wait for the round-trip to complete, specified in milliseconds. Default
is 1000ms (1 second).</span></div></td>
</tr>
<tr>
<td width="26%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-r &lt;rate></span></div></td>
<td width="73%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">How
fast to deliver packets, i.e. time between successive sends. Default is 1000ms
(1 second). Specifying &quot;-r 0&quot; will send packets as quickly as possible.</span></div></td>
</tr>
<tr>
<td width="26%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-l &lt;length></span></div></td>
<td width="73%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Each
packet contains some amount of payload data. This option specifies the length
of that data. The default is 64 and the value is restricted to the range 64
.. 1400.</span></div></td>
</tr>
<tr>
<td width="26%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-i &lt;local
IP></span></div></td>
<td width="73%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">This
allows the ping command to override its local network address. While this
is not recommended procedure, it can help diagnose some situations, for example
where BOOTP is not working properly.</span></div></td>
</tr>
<tr>
<td width="26%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-h &lt;host
IP></span></div></td>
<td width="73%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
address of the other device to contact.</span></div></td>
</tr>
</tbody></table></div><h3 class="l14p14" style="line-height: 17pt"><span class="f18sbB"
style="font-size: 15pt"><a name="a5386"></a>2.3.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>General</span></h3><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a5388"></a><a name="a5390"></a><a name="a5397"></a><a name="a5398"></a><a
name="a5402"></a>Manage machine caches. </span></div><div class="p6" style="line-height: 13pt; text-align: justify"><span
class="b" style="font-family: serif">cache [ON | OFF]</span></div><div class="p8"
style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span style="font-family: serif">With
no options, this command specifies the state of the system caches.</span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">When an option is given, the caches are turned
off or on appropriately.  </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
class="b" style="font-family: serif">version</span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">Display RedBoot version information. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">This command simply displays version information
about RedBoot. </span></div><div class="fltp" style="padding: 8pt 0% 0% 8.9%"><pre
class="flts" style="padding-left: 8.9%">RedBoot> version 
RedBoot(tm) debug environment - built 09:12:03, Feb 12 2001  
Platform: XYZ (PowerPC 860)  
Copyright (C) 2000, 2001, Red Hat, Inc. 
RAM: 0x00000000-0x00400000  
RedBoot></pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
class="b" style="font-family: serif">reset</span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">Reset the system. </span></div><div class="p8"
style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span style="font-family: serif">This
command resets the platform. This should be equivalent to a power-on reset.
 </span></div><div style="line-height: 13pt; text-align: justify; padding-top: 7pt"><span
class="b" style="font-family: serif">dump -b &lt;location> [-l &lt;length>]</span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">Display (hex dump) a range of memory. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">This command displays the contents of memory in
hexadecimal format. It is most useful for examining a segment of RAM or flash.
Note that it could be detrimental if used on memory mapped hardware registers. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">The memory is displayed at most sixteen bytes per
line, first as the raw hex value, followed by an ASCII interpretation of the
data. </span></div><div class="fltp" style="padding: 8pt 0% 0% 8.9%"><pre
class="flts" style="padding-left: 8.9%">RedBoot> du -b 0x100 -l 0x80  
0x00000100: 3C60 0004 6063 2000 7C68 03A6 4E80 0020 |&lt;&#8216;..&#8216;c .|h..N.. |  
0x00000110: 0000 0000 0000 0000 0000 0000 0000 0000 |................|  
0x00000120: 0000 0000 0000 0000 0000 0000 0000 0000 |................|  
0x00000130: 0000 0000 0000 0000 0000 0000 0000 0000 |................|  
0x00000140: 0000 0000 0000 0000 0000 0000 0000 0000 |................|  
0x00000150: 0000 0000 0000 0000 0000 0000 0000 0000 |................|  
0x00000160: 0000 0000 0000 0000 0000 0000 0000 0000 |................|  
0x00000170: 0000 0000 0000 0000 0000 0000 0000 0000 |................| 
RedBoot> d -b 0xfe00b000 -l 0x80  
0xFE00B000: 2025 700A 0000 0000 4174 7465 6D70 7420 | %p.....Attempt |  
0xFE00B010: 746F 206C 6F61 6420 532D 7265 636F 7264 |to load S-record|  
0xFE00B020: 2064 6174 6120 746F 2061 6464 7265 7373 | data to address|  
0xFE00B030: 3A20 2570 205B 6E6F 7420 696E 2052 414D |: %p [not in RAM|  
0xFE00B040: 5D0A 0000 2A2A 2A20 5761 726E 696E 6721 |]...*** Warning!|  
0xFE00B050: 2043 6865 636B 7375 6D20 6661 696C 7572 | Checksum failur|  
0xFE00B060: 6520 2D20 4164 6472 3A20 256C 782C 2025 |e - Addr: %lx, %|  
0xFE00B070: 3032 6C58 203C 3E20 2530 326C 580A 0000 |02lX &lt;> %02lX...|  
0xFE00B080: 456E 7472 7920 706F 696E 743A 2025 702C |Entry point: %p,|   </pre></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a5894"></a>2.3.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Download
Process</span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
class="b" style="font-family: serif"><a name="a5896"></a><a name="a5898"></a><a
name="a5905"></a><a name="a5906"></a><a name="a5910"></a>load</span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">The </span><span class="m">load</span><span style="font-family: serif">
command is used to download data into the target system. Data can be loaded
via a network connection, using either the TFTP protocol, or the console serial
connection using the X/Y modem protocol. Files to be downloaded may either
be executable images in SREC format or raw data. The format of the command
is:  </span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
class="m">load file [-v] [-d] [-b location] [-r] [-m {xmodem | ymodem | tftp}][-h
host_IP_address]</span></div><h2 class="l14al" style="padding-top: 12pt"><span
class="f18sbB" style="font-size: 13pt">Arguments</span></h2><div><table width="100%"
border="0" cellspacing="0" cellpadding="5pt"><tbody>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">file</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
name of the file on the TFTP server. Details of how this is specified are
host-specific.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-v</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Display
a small spinner (indicator) while the download is in  progress. This is just
for feedback, especially during long loads.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-d</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Decompress
gzipped image during download.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-b</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Specify
the location in memory to which the file should be loaded. Executable images
normally load at the location to which the file was linked. This option allows
the file to be loaded to a specific memory location, possibly overriding any
assumed location.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-r</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Download
raw data. Normally, the load command is used to load executable images into
memory. This option allows for raw data to be loaded. If this option is given,
-b will also be required.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-m</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
-m option is used to select the download method. The choices are:<br><span
style="font-style: italic">xmodem, ymodem</span> - serial download using standard
protocols over the console serial port. When using this method, the &lt;file>
parameter is not required. tftp - network based download using the TFTP protocol.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-h</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Used
explicitly to name a host computer to contact for the download data. This
works in TFTP mode only.</span></div></td>
</tr>
</tbody></table></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">============================================================= 
RedBoot> lo redboot.ROM -b 0x8c400000        
Address offset = 0x0c400000      
Entry point: 0x80000000, address range: 0x80000000-0x8000fe80     
============================================================= </pre></div><h2
class="l14p14" style="line-height: 18pt"><span class="f16sb" style="color: blue"><a
name="a6418"></a>2.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>flash
Image System (FIS)</span></h2><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a6420"></a><a name="a6422"></a><a name="a6429"></a><a
name="a6430"></a><a name="a6434"></a><a name="a6435"></a><a name="a6442"></a><a
name="a6443"></a><a name="a6447"></a>If the platform has flash memory, RedBoot
can use this for image storage. Executable images, as well as data, can be
stored in flash in a simple file store. The </span><span class="m">fis</span><span
style="font-family: serif"> command is used to manipulate and maintain flash
images. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">The available </span><span class="m">fis</span><span
style="font-family: serif"> commands are:  </span></div><div class="p6" style="line-height: 13pt; text-align: justify"><span
class="b" style="font-family: serif">fis init [-f]</span></div><div class="p8"
style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span style="font-family: serif">This
command is used to initialize the flash Image System (FIS). It should only
be executed once, when RedBoot is first installed on the hardware. Subsequent
executions will cause loss of data in the flash (previously saved images will
no longer be accessible). </span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">If the </span><span class="m">-f</span><span style="font-family: serif">
option is specified, all blocks of flash memory will be erased as part of
this process.</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">================================================================= 
RedBoot> fis init -f      
About to initialize [format] flash image system - are you sure (y/n)? n 
=================================================================</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span class="b"
style="font-family: serif">fis [-c] list</span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">This command lists the images currently available
in the FIS. Certain images used by RedBoot have fixed names. Other images
can be manipulated by the user. </span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">If the <span style="font-style: italic">-c</span>
option is specified, the image checksum is displayed instead of the </span><span
class="m">Mem Addr</span><span style="font-family: serif"> field.   </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">================================================================= 
RedBoot> fis list 
Name           flash addr  Mem addr   Length   Entry point 
RedBoot        0xA0000000  0xA0000000 0x020000 0x80000000 
RedBoot[backup]0xA0020000  0x8C010000 0x010000 0x8C010000 
RedBoot config 0xA0FC0000  0xA0FC0000 0x020000 0x00000000 
FIS directory  0xA0FE0000  0xA0FE0000 0x020000 0x00000000 
RedBoot> fis list -c 
Name           flash addr  Checksum   Length   Entry point 
RedBoot        0xA0000000  0x34C94A57 0x020000 0x80000000 
RedBoot[backup]0xA0020000  0x00000000 0x010000 0x8C010000 
RedBoot config 0xA0FC0000  0x00000000 0x020000 0x00000000 
RedBoot config 0xA0FE0000  0x00000000 0x020000 0x00000000 
=================================================================  </pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span class="b"
style="font-family: serif">fis free</span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">This command shows which areas of the flash memory
are currently not in use. In use means that the block contains non-erased
contents. Since it is possible to force an image to be loaded at a particular
flash location, this command can be used to check whether that location is
in use by any other image. </span></div><div class="p8" style="padding-left: 10.2%"><span
style="font-family: serif"><img src="redboot-generic.htm.graphics/note.gif"
alt="C:\Program Files\Epic\entities\note.eps" height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span
class="f18sbB" style="font-size: 13pt">NOTE:</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 10.2%"><span
style="font-family: serif">There is currently no cross-checking between actual
flash contents and the image directory, which mans that there could be a segment
of flash which is not erased that does not correspond to a named image, or
vice-versa.  </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">================================================================= 
RedBoot> fis free
        0xA0040000 .. 0xA07C0000
        0xA0840000 .. 0xA0FC0000      
=================================================================  </pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span class="b"
style="font-family: serif">fis create -b &lt;mem_base> -l &lt;length> [-f &lt;flash_addr>]
[-e &lt;entry_point>]  [-r &lt;ram_addr>] [-s &lt;data_length>] [-n] &lt;name></span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">This command creates an image in the FIS directory.
The data for the image must exist in RAM memory before the copy. Typically,
you would use the RedBoot </span><span class="m">load</span><span style="font-family: serif">
command to load an image into RAM and then the </span><span class="m">fis
create</span><span style="font-family: serif"> command to write it to flash.
 </span></div><h2 class="l14al" style="padding-top: 12pt"><span class="f18sbB"
style="font-size: 13pt">Arguments</span></h2><div><table width="100%" border="0"
cellspacing="0" cellpadding="5pt"><tbody>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">name</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
name of the file, as shown in the FIS directory.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-b</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
location in RAM used to obtain the image. This is a required option.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-l</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
length of the image. This is a required option.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-f</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
location in flash for the image. If this is not provided, the first freeVblock
which is large enough will be used. See fis free.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-e</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
execution entry address. This is used if the starting address for an image
is not known, or needs to be overridden.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-r</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
location in RAM when the image is loaded via fis load. This only needs to
be specified for images which will eventually loaded via fis load. Fixed images,
such as RedBoot itself, will not need this.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-s</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
length of the actual data to be written to flash. If not present then the
image length (-1) value is assumed. If the value given by -s is less than
-1, the remainder of the image in flash will be left in an erased state. Note
that by using this option it is possible to create a completely empty flash
image, for example to reserve space for use by applications other than RedBoot.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-n</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">If
-n is specified, then only the FIS directory is updated, and no data is copied
from RAM to flash. This feature can be used to recreate the FIS entry if it
has been destroyed.</span></div></td>
</tr>
</tbody></table></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">================================================================= 
RedBoot> fis create RedBoot -f 0xa0000000 -b 0x8c400000 -l 0x20000      
An image named &#8216;RedBoot&#8217; exists - are you sure (y/n)? n      
RedBoot> fis create junk -b 0x8c400000 -l 0x20000 
... Erase from 0xa0040000-0xa0060000: . 
... Program from 0x8c400000-0x8c420000 at 0xa0040000: . 
... Erase from 0xa0fe0000-0xa1000000: . 
... Program from 0x8c7d0000-0x8c7f0000 at 0xa0fe0000: . 
================================================================= </pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"></span></div><div
class="p6" style="line-height: 13pt; text-align: justify"><span class="b"
style="font-family: serif">fis load [-b &lt;memory load address>] [-c] [-d]
name</span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">This command is used to transfer an image from
flash memory to RAM. </span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">Once loaded, it may be executed using the go command.
If -b is specified, then the image is copied from flash to the specified address
in RAM. If -b is not specified, the image is copied from flash to the load
address given when the image was created. </span></div><h2 class="l14al" style="padding-top: 12pt"><span
class="f18sbB" style="font-size: 13pt">Arguments</span></h2><div><table width="100%"
border="0" cellspacing="0" cellpadding="5pt"><tbody>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">name</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">The
name of the file, as shown in the FIS directory</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-b</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Specify
the location in memory to which the file should be loaded. Executable images
normally load at the location to which the file was linked. This option allows
the file to be loaded to a specific memory location, possibly overriding any
assumed location.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-c</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Compute
and print the checksum of the image data after it has been loaded into memory.</span></div></td>
</tr>
<tr>
<td width="11%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">-d</span></div></td>
<td width="88%" valign="top"><div style="line-height: 13pt"><span style="font-family: serif">Decompress
gzipped image while copying it from flash to RAM.</span></div></td>
</tr>
</tbody></table></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">================================================================= 
RedBoot> fis load RedBoot[backup]      
RedBoot> go      
================================================================ </pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"></span></div><div
class="p6" style="line-height: 13pt; text-align: justify"><span class="b"
style="font-family: serif">fis delete name</span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">This command removes an image from the FIS. The
flash memory will be erased as part of the execution of this command, as well
as removal of the name from the FIS directory.</span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">================================================================= 
RedBoot> fis list      
Name              flash addr   Mem addr    Length    Entry point      
RedBoot          0xA0000000   0xA0000000  0x020000  0x80000000      
RedBoot[backup]  0xA0020000   0x8C010000  0x020000  0x8C010000      
RedBoot config   0xA0FC0000   0xA0FC0000  0x020000  0x00000000      
FIS directory    0xA0FE0000   0xA0FE0000  0x020000  0x00000000      
junk             0xA0040000   0x8C400000  0x020000  0x80000000      
RedBoot> fis delete junk      
Delete image &#8216;junk&#8217; - are you sure (y/n)? y      
... Erase from 0xa0040000-0xa0060000: .  
... Erase from 0xa0fe0000-0xa1000000: .  
... Program from 0x8c7d0000-0x8c7f0000 at 0xa0fe0000: . 
=================================================================</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"></span></div><div
class="p6" style="line-height: 13pt; text-align: justify"><span class="b"
style="font-family: serif">fis lock -f &lt;flash_addr> -l &lt;length></span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">This command is used to write-protect (lock) a
portion of flash memory, to prevent accidental overwriting of images. In order
to make make any modifications to the flash, a matching unlock command must
be issued. This command is optional and will only be provided on hardware
which can support write-protection of the flash space.  </span></div><div
class="p8" style="padding-left: 10.2%"><span style="font-family: serif"><img
src="redboot-generic.htm.graphics/note.gif" alt="C:\Program Files\Epic\entities\note.eps"
height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span class="f18sbB"
style="font-size: 13pt">NOTE:</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 10.2%"><span
style="font-family: serif">Depending on the system, attempting to write to
write-protected flash may generate errors or warnings, or be benignly quiet.
 </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">================================================================= 
RedBoot fis lock -f 0xa0040000 -l 0x20000  
... Lock from 0xa0040000-0xa0060000: .  
=================================================================</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"></span></div><div
class="p6" style="line-height: 13pt; text-align: justify"><span class="b"
style="font-family: serif">fis unlock -f &lt;flash_addr> -l &lt;length></span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">This command is used to unlock a portion of flash
memory forcibly, allowing it to be updated. It must be issued for regions
which have been locked before the FIS can reuse those portions of flash.</span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">================================================================= 
RedBoot fis unlock -f 0xa0040000 -l 0x20000  
... Unlock from 0xa0040000-0xa0060000: .  
=================================================================</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"></span></div><div
class="p6" style="line-height: 13pt; text-align: justify"><span class="b"
style="font-family: serif">fis erase -f &lt;flash_addr> -l &lt;length></span></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">This command is used to erase a portion of flash
memory forcibly. There is no cross-checking to ensure that the area being
erased does not correspond to a loaded image.</span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">================================================================= 
RedBoot> fis erase -f 0xa0040000 -l 0x20000      
... Erase from 0xa0040000-0xa0060000: .  
=================================================================</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"></span></div><h2
class="l14p14" style="line-height: 18pt"><span class="f16sb" style="color: blue"><a
name="a8225"></a>2.5<span style="font-size: 12pt">&nbsp;&nbsp;</span>Persistent
State flash-based Configuration and Control</span></h2><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a8227"></a><a name="a8229"></a><a name="a8233"></a><a
name="a8234"></a><a name="a8238"></a><a name="a8239"></a><a name="a8452"></a>If
the platform has flash memory, certain control and configuration information
used by RedBoot can be stored in flash. The details of what information is
maintained in flash differs, based on the platform and the configuration.
However, the basic operation used to maintain this information is the same.
Using the </span><span class="m">fconfig -1</span><span style="font-family: serif">
command, the information may be displayed and/or changed. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">If
the optional flag </span><span class="m">-l</span><span style="font-family: serif">
is specified, the configuration data is simply listed. Otherwise, each configuration
parameter will be displayed and you are given a chance to change it. The entire
value must be typed - typing just carriage return will leave a value unchanged.
Boolean values may be entered using the first letter (</span><span class="m">t</span><span
style="font-family: serif"> for true, </span><span class="m">f</span><span
style="font-family: serif"> for false). At any time the editing process may
be stopped simply by entering a period (.) on the line. Entering the caret
(^) moves the editing back to the previous item. See &#8220;RedBoot Editing
Commands&#8221;, <a href="#a4134">Section 2.2</a>. </span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">If
any changes are made in the configuration, then the updated data will be written
back to flash after getting acknowledgement from the user. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">One
item which is always present in the configuration data is the ability to execute
a script at boot time. A sequence of RedBoot commands can be entered which
will be executed when the system starts up. Optionally, a time-out period
can be provided which allows the user to abort the startup script and proceed
with normal command processing from the console.     </span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><span class="flts" style="font-family: monospace">=================================================================&nbsp;<br
>RedBoot>&nbsp;<span class="b">fconfig</span>&nbsp;-l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Run&nbsp;script&nbsp;at&nbsp;boot:&nbsp;false&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>Use&nbsp;BOOTP&nbsp;for&nbsp;network&nbsp;configuration:&nbsp;false&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Local&nbsp;IP&nbsp;address:&nbsp;192.168.1.29&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>Default&nbsp;server&nbsp;IP&nbsp;address:&nbsp;192.168.1.101&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>GDB&nbsp;connection&nbsp;port:&nbsp;9000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>Network&nbsp;debug&nbsp;at&nbsp;boot&nbsp;time:&nbsp;false&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>=================================================================</span
></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">The following example sets a boot script and then
shows it running.     </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><span
class="flts" style="font-family: monospace">=================================================================&nbsp;<br>RedBoot>&nbsp;<span
class="b">fconfig</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Run&nbsp;script&nbsp;at&nbsp;boot:&nbsp;false&nbsp;t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^<br
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boot&nbsp;script:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Enter&nbsp;script,&nbsp;terminate&nbsp;with&nbsp;empty&nbsp;line<br
>>>&nbsp;<span class="b">fi&nbsp;li</span><br>&nbsp;&nbsp;&nbsp;&nbsp;Boot&nbsp;script&nbsp;timeout:&nbsp;0&nbsp;<span
class="b">10</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>Use&nbsp;BOOTP&nbsp;for&nbsp;network&nbsp;configuration:&nbsp;false&nbsp;.&nbsp;&nbsp;<br>Update&nbsp;RedBoot&nbsp;non-volatile&nbsp;configuration&nbsp;-&nbsp;are&nbsp;you&nbsp;sure&nbsp;(y/n)?&nbsp;<span
class="b">y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>...&nbsp;Erase&nbsp;from&nbsp;0xa0fc0000-0xa0fe0000:&nbsp;.&nbsp;&nbsp;<br>...&nbsp;Program&nbsp;from&nbsp;0x8c021f60-0x8c022360&nbsp;at&nbsp;0xa0fc0000:&nbsp;.&nbsp;<br
>RedBoot>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>RedBoot(tm)&nbsp;debug&nbsp;environment&nbsp;-&nbsp;built&nbsp;08:22:24,&nbsp;Aug&nbsp;23&nbsp;2000&nbsp;<br
>Copyright&nbsp;(C)&nbsp;2000,&nbsp;Red&nbsp;Hat,&nbsp;Inc.&nbsp;&nbsp;&nbsp;<br><br>RAM:&nbsp;0x8c000000-0x8c800000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>flash:&nbsp;0xa0000000&nbsp;-&nbsp;0xa1000000,&nbsp;128&nbsp;blocks&nbsp;of&nbsp;0x00020000&nbsp;bytes&nbsp;ea.&nbsp;&nbsp;<br>Socket&nbsp;Communications,&nbsp;Inc:&nbsp;Low&nbsp;Power&nbsp;Ethernet&nbsp;CF&nbsp;Revision&nbsp;C&nbsp;\<br
>5V/3.3V&nbsp;08/27/98&nbsp;IP:&nbsp;192.168.1.29,&nbsp;Default&nbsp;server:&nbsp;192.168.1.101&nbsp;\<br>==&nbsp;Executing&nbsp;boot&nbsp;script&nbsp;in&nbsp;10&nbsp;seconds&nbsp;-&nbsp;enter&nbsp;^C&nbsp;to&nbsp;abort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>RedBoot>&nbsp;fi&nbsp;li&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flash&nbsp;addr&nbsp;&nbsp;&nbsp;Mem&nbsp;addr&nbsp;&nbsp;&nbsp;&nbsp;Length&nbsp;&nbsp;&nbsp;&nbsp;Entry&nbsp;point&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>RedBoot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0xA0000000&nbsp;&nbsp;&nbsp;0xA0000000&nbsp;&nbsp;0x020000&nbsp;&nbsp;0x80000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>RedBoot[backup]&nbsp;&nbsp;0xA0020000&nbsp;&nbsp;&nbsp;0x8C010000&nbsp;&nbsp;0x020000&nbsp;&nbsp;0x8C010000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>RedBoot&nbsp;config&nbsp;&nbsp;&nbsp;0xA0FC0000&nbsp;&nbsp;&nbsp;0xA0FC0000&nbsp;&nbsp;0x020000&nbsp;&nbsp;0x00000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>FIS&nbsp;directory&nbsp;&nbsp;&nbsp;&nbsp;0xA0FE0000&nbsp;&nbsp;&nbsp;0xA0FE0000&nbsp;&nbsp;0x020000&nbsp;&nbsp;0x00000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>RedBoot>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br
>=================================================================</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"></span></div><div
class="p8" style="padding-left: 5.1%"><span style="font-family: serif"><img
src="redboot-generic.htm.graphics/note.gif" alt="C:\Program Files\Epic\entities\note.eps"
height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span class="f18sbB"
style="font-size: 13pt">NOTE:</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">The bold characters above indicate where something
was entered on the console. As you can see, the fi li command at the end came
from the script, not the console. Once the script is executed, command processing
reverts to the console. </span></div><h2 class="l14p14" style="line-height: 18pt"><span
class="f16sb" style="color: blue"><a name="a8731"></a>2.6<span style="font-size: 12pt">&nbsp;&nbsp;</span>Executing
Programs from RedBoot</span></h2><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a8733"></a><a name="a8735"></a><a name="a8739"></a><a
name="a8740"></a><a name="a8747"></a>Once an image has been loaded into memory,
either via the </span><span class="m">load</span><span style="font-family: serif">
command or the </span><span class="m">fis load</span><span style="font-family: serif">
command, execution may be transfered to that image.</span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"></span></div><div
class="p8" style="padding-left: 5.1%"><span style="font-family: serif"><img
src="redboot-generic.htm.graphics/note.gif" alt="C:\Program Files\Epic\entities\note.eps"
height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span class="f18sbB"
style="font-size: 13pt">NOTE:</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">The image is assumed to be a stand-alone entity,
as RedBoot gives the entire platform over to it. Typical examples would be
an eCos application or a Linux kernel.</span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">The format of the </span><span class="m">go</span><span
style="font-family: serif"> command is:    </span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">RedBoot> go [-w time] [location]</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Execution
will begin at </span><span class="m">location</span><span style="font-family: serif">
if specified. Otherwise, the entry point of the last image loaded will be
used. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">The </span><span class="m">-w</span><span style="font-family: serif">
option gives the user </span><span class="m">time</span><span style="font-family: serif">
seconds before execution begins. The execution may be aborted by typing </span><span
class="f9sb">Ctrl+C</span><span style="font-family: serif"> on the console.
This mode would typically be used in startup scripts.</span></div></div><div
class="pgbrk" style="padding-top: 48pt"><h1 style="line-height: 19pt; padding-top: -18pt"><span
class="f18sbB" style="font-size: 17pt"><a name="a9008"></a><a id="Rebuilding_Redboot"
name="Rebuilding_Redboot"></a>3<span style="font-size: 12pt">&nbsp;&nbsp;&nbsp;&nbsp;</span>Rebuilding
RedBoot</span></h1><h2 style="line-height: 18pt; padding-top: -8pt"><span
class="f16sb" style="color: blue"><a name="a9216"></a><a name="a9218"></a>3.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Introduction</span></h2><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a9220"></a><a name="a9222"></a><a name="a9226"></a><a name="a9227"></a><a
name="a9234"></a>In normal circumstances it is only necessary to rebuild RedBoot
if it has been modified, for example if you have extended the command set
or applied patches. See the <span style="font-style: italic">Getting Started
with eCos</span> document, which provides information about the portability
and extendability of RedBoot in an eCos environment. </span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Some
platform HALs provide configuration export files. Before proceding with the
following procedures, check &#8220;Configuration export files&#8221;, <a href="#a9495">Section
3.1.1</a> first, which may simplify the process for your platform.</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">RedBoot
is configured and built using configuration technology based on Configuration
Description Language (CDL). The simplest version of RedBoot can be built by
typing:  </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">ecosconfig new PLATFORM redboot   
ecosconfig tree    
make</pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">where PLATFORM is the eCos name for the desired
platform, for example assabet. This command sequence will build the simplest
version of RedBoot possible, not including any networking nor flash support
(since these are very target specific). To include these in the example, type:</span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">ecosconfig new PLATFORM redboot   
ecosconfig add flash  
ecosconfig add pcmcia net_drivers cf_eth_drivers   
ecosconfig tree   
make</pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">This set of commands will build a version of RedBoot
suitable for testing. In particular, the result will run from RAM. Since RedBoot
needs to be installed in ROM/flash, type the following: </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">cat >RedBoot_ROM.cfg &lt;&lt;EOF
cdl_component CYG_HAL_STARTUP {
       user_value ROM  
};  
EOF
ecosconfig import RedBoot_ROM.cfg  
ecosconfig tree  
make</pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">This set of commands will adjust the configuration
to be ROM oriented. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Each of these command sequences creates multiple
versions of RedBoot in different file formats. The choice of which file to
use will depend upon the actual target hardware and the tools available for
programming ROM/flash. The files produced (typically) are:</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span class="m">install/bin/redboot.elf </span><span
style="font-family: serif">This is the complete version of RedBoot, represented
in ELF format. It is most useful for testing with tools such as embedded ICE,
or other debug tools. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
class="m">install/bin/redboot.srec</span><span style="font-family: serif">
This version has been converted to Motorola S-record format. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span class="m">install/bin/redboot.bin</span><span
style="font-family: serif"> This version has been flattened; that is, all
formatting information removed and just the raw image which needs to be placed
in ROM/flash remains. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">The details of putting the RedBoot code into ROM/flash
are target specific. Once complete, the system should come up with the RedBoot
prompt. For example, the version built using the commands above looks like: </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">RedBoot(tm) debug environment - built 07:54:25, Oct 16 2000  
Platform: Assabet development system (StrongARM 1110)   
Copyright (C) 2000, Red Hat, Inc. 
RAM: 0x00000000-0x02000000   
flash: 0x50000000 - 0x50400000, 32 blocks of 0x00020000 bytes ea.   
Socket Communications, Inc: Low Power Ethernet CF Revision C 
5V/3.3V 08/27/98   
IP: 192.168.1.29, Default server: 192.168.1.101   
RedBoot> </pre></div><h3 class="l14p14" style="line-height: 17pt"><span class="f18sbB"
style="font-size: 15pt"><a name="a9495"></a><a id="Configuration_export_files"
name="Configuration_export_files"></a>3.1.1<span style="font-size: 12pt">&nbsp;&nbsp;</span>Configuration
export files </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a9497"></a><a name="a9499"></a><a name="a9503"></a>To
help with rebuilding RedBoot from source, some platforms HALs provide configuration
export files. First locate the configuration export files for your platform
in the eCos source repository. The RAM and ROM startup configuration exports
can usually be found in a directory named &quot;misc&quot; in the platform
HAL in the eCos source repository, named either: </span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">2164 Nov 29 14:59 misc/redboot_RAM.cfg 
2221 Nov 29 14:59 misc/redboot_ROM.cfg</pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">or </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">1432 Feb  1 13:27 misc/redboot_RAM.ecm 
1487 Feb  1 14:38 misc/redboot_ROM.ecm</pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Having located these files, copy them to </span><span
class="m">/tmp</span><span style="font-family: serif"> or some other directory,
to save typing. (All dates and sizes are just examples.) To make RedBoot for
RAM startup: </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">mkdir redboot.RAM 
cd redboot.RAM 
ecosconfig new TARGET redboot 
ecosconfig import /tmp/redboot_RAM.ecm 
ecosconfig tree 
make </pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">To build the ROM version, in a different build/config
directory, just use the </span><span class="m">config export redboot_ROM.ecm</span><span
style="font-family: serif"> (or .cfg) instead. The resulting files will be,
in each of the ROM and RAM startup build places: </span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">70456     ..../install/bin/redboot.bin 
433104     ..../install/bin/redboot.elf 
91407     ..../install/bin/redboot.img 
194732     ..../install/bin/redboot.srec </pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">The .elf and .srec files have the obvious relationship
to those supplied in the </span><span class="m">loaders/PLATFORM</span><span
style="font-family: serif"> directory in the install.</span></div></div><div
class="pgbrk" style="padding-top: 48pt"><h1 style="line-height: 19pt; padding-top: -18pt"><span
class="f18sbB" style="font-size: 17pt"><a name="a9744"></a><a id="Updating_Redboot"
name="Updating_Redboot"></a>4<span style="font-size: 12pt">&nbsp;&nbsp;&nbsp;&nbsp;</span>Updating
RedBoot</span></h1><h2 style="line-height: 18pt; padding-top: -8pt"><span
class="f16sb" style="color: blue"><a name="a9746"></a><a name="a9748"></a>4.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Introduction</span></h2><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a9750"></a><a name="a9752"></a><a name="a9756"></a><a name="a9757"></a><a
name="a9764"></a>RedBoot normally runs from flash or ROM. In the case of flash,
it is possible to update RedBoot, that is, replace it with a newer version,
in situ. This process is complicated by the fact that RedBoot is running from
the very flash which is being updated. The following is an outline of the
steps needed for updating RedBoot:</span></div><div class="p8" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"
><span style="font-family: serif">&#8226;&nbsp;Start RedBoot, running from
flash.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Load and start a different version
of RedBoot, running from RAM.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Update the primary RedBoot flash image.</span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;Reboot; run RedBoot from flash.</span></div><div
style="line-height: 13pt; text-align: justify; padding-top: 7pt"><span style="font-family: serif">In
order to execute this process, two versions of RedBoot are required; one which
runs from flash, and a separate one which runs solely from RAM. Both of these
images are typically provided as part of the RedBoot package, but they may
also be rebuilt from source using the instructions provided for the platform. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">The
following is a more detailed look at these steps. For this process, it is
assumed that the target is connected to a host system and that there is some
sort of serial connection used for the RedBoot CLI. </span></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a10002"></a>4.1.1<span style="font-size: 12pt">&nbsp;&nbsp;</span>Start
RedBoot, Running from flash</span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a10004"></a>To start RedBoot, reset the
platform. </span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a10010"></a>4.1.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Load
and start a different version of RedBoot, running from RAM</span></h3><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a10012"></a>There are a number of choices here. The basic case is where
the RAM based version has been stored in the FIS (flash Image System). To
load and execute this version, use the commands:  </span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">RedBoot> fis load RedBoot[backup]  
RedBoot> go</pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">If this image is not available, or does not work,
then an alternate RAM based image must be loaded. Using the load command:
 </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">RedBoot> load redboot_RAM.srec</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"></span></div><div
class="p8" style="padding-left: 5.1%"><span style="font-family: serif"><img
src="redboot-generic.htm.graphics/note.gif" alt="C:\Program Files\Epic\entities\note.eps"
height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span class="f18sbB"
style="font-size: 13pt">NOTE</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">The details of how to load are installation specific.
The file must be placed somewhere the host computer can provide it to the
target RedBoot system. Either TFTP (shown) or X/Ymodem can be used to download
the image into RAM.  </span></div><div class="fltp" style="padding: 8pt 0% 0% 8.9%"><pre
class="flts" style="padding-left: 8.9%">RedBoot> go</pre></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a10243"></a>4.1.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Update
the primary RedBoot flash image</span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a10245"></a>At this point, a new version
of RedBoot is running on the target, in RAM.  </span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Using
the </span><span class="m">load</span><span style="font-family: serif"> command,
download the flash based version from the host.</span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Since
the flash version is designed to load and run from flash, the image must be
relocated into some suitable, available, RAM location. The details of this
are target platform specific (found in the target appendix), but the command
will look something like this:  </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">RedBoot> load redboot_ROM.srec -b 0x00100000</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">This
command loads the flash image into RAM at 0x00100000, using the TFTP protocol
via a network connection. Other options are available, refer to the command
section on </span><span class="m">load</span><span style="font-family: serif">
for more details. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Once the image is loaded into RAM, it must be placed
into flash using the FIS commands. Some platforms support locking (write protecting)
certain regions of the flash, while others do not. If your platform does not
support the lock/unlock commands, simply ignore these steps. Again, the details
of these commands (in particular the numeric values) differ on each target
platform, but the ideas are the same:  </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">RedBoot> fis unlock -f 0xA0000000 -l 0x40000  
RedBoot> fis create RedBoot -f 0xA0000000 -b 0x00100000 -l 0x40000 -s 0xCFAE  
RedBoot> fis lock -f 0xA0000000 -l 0x40000</pre></div><div class="p8" style="padding-left: 5.1%"><span
style="font-family: serif"><img src="redboot-generic.htm.graphics/note.gif"
alt="C:\Program Files\Epic\entities\note.eps" height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span
class="f18sbB" style="font-size: 13pt">NOTE</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">RedBoot will display a number of lines of information
as it executes these commands. Also, the size (-s) value for the create operation
should be determined from the output provided as part of the file download
step.  </span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 5.1%"><span
style="font-family: serif">It is not required, but it does allow for improved
image validity checking in the form of an image checksum.</span></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a10286"></a>4.1.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Reboot;
run RedBoot from flash</span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a10288"></a>Once the image has been successfully
written into the flash, simply reboot the target and the new version of RedBoot
will be running. </span></div><div class="p8" style="padding-left: 5.1%"><span
style="font-family: serif"><img src="redboot-generic.htm.graphics/note.gif"
alt="C:\Program Files\Epic\entities\note.eps" height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span
class="f18sbB" style="font-size: 13pt">NOTE </span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">There may be times when RedBoot does not exist
on the hardware, thus making step 1 impossible to do. In these cases, it should
be possible to get to step 2 by using GDB. If this is possible, the appropriate
steps are provided with the target documentation. </span></div></div><div
class="pgbrk" style="padding-top: 48pt"><h1 style="line-height: 19pt; padding-top: -18pt"><span
class="f18sbB" style="font-size: 17pt"><a name="a10512"></a><a id="Installation_and_Testing"
name="Installation_and_Testing"></a>5<span style="font-size: 12pt">&nbsp;&nbsp;&nbsp;&nbsp;</span>Installation
and Testing</span></h1><h2 style="line-height: 18pt; padding-top: -8pt"><span
class="f16sb" style="color: blue"><a name="a10527"></a><a name="a10514"></a><a
name="a10518"></a><a name="a10519"></a><a name="a10526"></a><a name="a10529"></a>5.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Cyclone IQ80310</span></h2><h3
style="line-height: 17pt; padding-top: -8pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a10531"></a><a name="a10533"></a>5.1.1<span style="font-size: 12pt">&nbsp;&nbsp;</span>Overview</span></h3><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a10535"></a><a name="a10537"></a><a name="a10544"></a><a name="a10545"></a><a
name="a10758"></a>RedBoot supports both serial ports and the built-in ethernet
port for communication and downloads. The default serial port settings are
115200,8,N,1. RedBoot also supports flash management for the onboard 8MB flash.
Several basic RedBoot configurations are supported: </span></div><div class="p6"
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from the board&#8217;s
flash boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from flash address
0x40000, with ARM bootloader in flash boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"
><span style="font-family: serif">&#8226;&nbsp;RedBoot running from RAM with
RedBoot in the flash boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from RAM with ARM
bootloader in flash boot sector.</span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">A special RedBoot command: </span><span class="m">diag</span><span
style="font-family: serif"> is used to access a set of hardware diagnostics
provided by the board manufacturer.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a10792"></a>5.1.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Initial
Installation Method</span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a10794"></a>The board manufacturer provides
a DOS application which is capable of programming the flash over the PCI bus,
and this is required for initial installations of RedBoot. Please see the
board manual for information on using this utility. In general, the process
involves programming one of the two flash based RedBoot configurations to
flash. The RedBoot which runs from the flash boot sector should be programmed
to flash address 0x00000000. RedBoot that has been configured to be started
by the ARM bootloader should be programmed to flash address 0x00004000. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Four
sets of prebuilt files are provided in a tarball and zip format. Each set
corresponds to one of the four supported configurations and includes an ELF
file (.elf), a binary image (.bin), and an S-record file (.srec). </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">For RedBoot running from the flash boot sector: 
bins/cyclone-rom.bin    
bins/cyclone-rom.elf    
bins/cyclone-rom.srec 

For RedBoot running from flash address 0x40000: 
bins/cyclone-roma.bin    
bins/cyclone-roma.elf    
bins/cyclone-roma.srec 

For RedBoot running from RAM with RedBoot in the flash boot sector: 
bins/cyclone-ram.bin    
bins/cyclone-ram.elf    
bins/cyclone-ram.srec 

For RedBoot running from RAM with ARM bootloader in the flash boot sector: 
bins/cyclone-rama.bin    
bins/cyclone-rama.elf   
bins/cyclone-rama.srec</pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Initial installations deal with the flash-based
RedBoots. Installation and use of RAM based RedBoots is documented elsewhere.</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">To
install RedBoot to run from the flash boot sector, use the manufacturer&#8217;s
flash utility to install the bins/cyclone-rom.bin image at address zero. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">To
install RedBoot to run from address 0x40000 with the ARM bootloader in the
flash boot sector, use the manufacturer&#8217;s flash utility to install the
bins/cyclone-roma.bin image at address 0x40000. </span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">After
booting the initial installation of RedBoot, this warning may be printed: </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">flash configuration checksum error or invalid key</pre></div
><div class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">This
is normal, and indicates that the flash must be configured for use by RedBoot.
Even if the above message is not printed, it may be a good idea to reinitialize
the flash anyway. Do this with the </span><span class="m">fis</span><span
style="font-family: serif"> command: </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">RedBoot> fis init   
About to initialize [format] flash image system - are you sure (y/n)? y   
*** Initialize flash Image System   
Warning: device contents not erased, some blocks may not be usable   
... Unlock from 0x007e0000-0x00800000: .   
... Erase from 0x007e0000-0x00800000: .   
... Program from 0xa1fd0000-0xa1fd0400 at 0x007e0000: .   
... Lock from 0x007e0000-0x00800000: . 
Followed by the fconfig command:
   RedBoot> fconfig
   Run script at boot: false
   Use BOOTP for network configuration: false
   Local IP address: 0.0.0.0 192.168.1.153
   Default server IP address: 0.0.0.0 192.168.1.10
   GDB connection port: 0 1000
   Network debug at boot time: false
   Update RedBoot non-volatile configuration - are you sure (y/n)? y
   ... Unlock from 0x007c0000-0x007e0000: .
   ... Erase from 0x007c0000-0x007e0000: .
   ... Program from 0xa0013018-0xa0013418 at 0x007c0000: .
   ... Lock from 0x007c0000-0x007e0000: .</pre></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a11036"></a>5.1.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Using
RedBoot with ARM Bootloader </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a11038"></a>RedBoot can coexist with ARM
tools in flash on the IQ80310 board. In this configuration, the ARM bootloader
will occupy the flash boot sector while RedBoot is located at flash address
0x40000. The sixteen position rotary switch is used to tell the ARM bootloader
to jump to the RedBoot image located at address 0x40000. RedBoot is selected
by switch position 0 or 1. Other switch positions are used by the ARM firmware
and RedBoot will not be started. </span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a11044"></a>5.1.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Special
RedBoot Commands </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a11046"></a>A special RedBoot command,
diag, is used to access a set of hardware diagnostics provided by the board
manufacturer. To access the diagnostic menu, enter diag at the RedBoot prompt: </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">RedBoot> diag 
Entering Hardware Diagnostics - Disabling Data Cache!</pre></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a11055"></a>5.1.5<span style="font-size: 12pt">&nbsp;&nbsp;</span>IQ80310
Hardware Tests</span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a11057"></a>1 - Memory Tests <br>2 - Repeating
Memory Tests <br>3 - 16C552 DUART Serial Port Tests <br>4 - Rotary Switch
S1 Test for positions 0-3 <br>5 - seven Segment LED Tests <br>6 - Backplane
Detection Test <br>7 - Battery Status Test <br>8 - External Timer Test <br>9
- i82559 Ethernet Configuration <br>10 - i82559 Ethernet Test <br>11 - Secondary
PCI Bus Test <br>12 - Primary PCI Bus Test <br>13 - i960Rx/303 PCI Interrupt
Test <br>14 - Internal Timer Test <br>15 - GPIO Test <br>0 - quit </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Enter
the menu item number (0 to quit):  </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Tests for various hardware subsystems are provided,
and some tests require special hardware in order to execute normally. The
Ethernet Configuration item may be used to set the board ethernet address.</span></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a11305"></a>5.1.6<span style="font-size: 12pt">&nbsp;&nbsp;</span>Rebuilding
RedBoot </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a11307"></a>The build process is nearly
identical for the four supported configurations. Assuming that the provided
RedBoot source tree is located in the current directory and that we want to
build a RedBoot that runs from the flash boot sector, the build process is: </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">% export TOPDIR=&#8216;pwd&#8216; 
% export ECOS_REPOSITORY=${TOPDIR}/src/ecos-monitors/ \
   redboot-??????-intel/packages 
% mkdir ${TOPDIR}/build 
% cd ${TOPDIR}/build 
% ecosconfig new iq80310 redboot 
% ecosconfig import ${ECOS_REPOSITORY}/hal/arm/iq80310/current/ \
   misc/redboot_ROM.cfg 
% ecosconfig tree % make</pre></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">If a different configuration is desired, simply
use the above build process but substitute an alternate configuration file
for the ecosconfig import command. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">For a RedBoot that runs from flash address 0x40000
with the ARM booloader in the flash boot sector, use: </span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">% ecosconfig import 
${ECOS_REPOSITORY}/hal/arm/iq80310/current/misc/redboot_ROMA.cfg</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">For
a RedBoot which runs from RAM with RedBoot located in the flash boot sector,
use:</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">% ecosconfig import 
${ECOS_REPOSITORY}/hal/arm/iq80310/current/misc/redboot_RAM.cfg</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">For
a RedBoot which runs from RAM with ARM bootloader located in the flash boot
sector, use: </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">% ecosconfig import 
${ECOS_REPOSITORY}/hal/arm/iq80310/current/misc/redboot_RAMA.cfg</pre></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a11537"></a>5.1.7<span style="font-size: 12pt">&nbsp;&nbsp;</span>Memory
Maps</span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a11539"></a>The first level page table
is located at 0xa0004000. Two second level tables are also used. One second
level table is located at 0xa0008000 and maps the first 1MB of flash. The
other second level table is at 0xa0008400, and maps the first 1MB of SDRAM. </span></div><div
class="p8" style="padding-left: 5.1%"><span style="font-family: serif"><img
src="redboot-generic.htm.graphics/note.gif" alt="C:\Program Files\Epic\entities\note.eps"
height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span class="f18sbB"
style="font-size: 13pt">NOTE:</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">The virtual memory maps in this section use a C
and B column to indicate whether or not the region is cached (C) or buffered
(B).</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">Physical Address Range     Description 
-----------------------    ---------------------------------- 
0x00000000 - 0x00000fff    flash Memory 
0x00001000 - 0x00001fff    80312 Internal Registers 
0x00002000 - 0x007fffff    flash Memory 
0x00800000 - 0x7fffffff    PCI ATU Outbound Direct Window 
0x80000000 - 0x83ffffff    Primary PCI 32-bit Memory 
0x84000000 - 0x87ffffff    Primary PCI 64-bit Memory 
0x88000000 - 0x8bffffff    Secondary PCI 32-bit Memory 
0x8c000000 - 0x8fffffff    Secondary PCI 64-bit Memory 
0x90000000 - 0x9000ffff    Primary PCI IO Space 
0x90010000 - 0x9001ffff    Secondary PCI IO Space 
0x90020000 - 0x9fffffff    Unused 
0xa0000000 - 0xbfffffff    SDRAM 
0xc0000000 - 0xefffffff    Unused 
0xf0000000 - 0xffffffff    80200 Internal Registers  

Virtual Address Range    C B  Description 
-----------------------  - -  ---------------------------------- 
0x00000000 - 0x00000fff  Y Y  SDRAM 
0x00001000 - 0x00001fff  N N  80312 Internal Registers 
0x00002000 - 0x007fffff  Y N  flash Memory 
0x00800000 - 0x7fffffff  N N  PCI ATU Outbound Direct Window 
0x80000000 - 0x83ffffff  N N  Primary PCI 32-bit Memory 
0x84000000 - 0x87ffffff  N N  Primary PCI 64-bit Memory 
0x88000000 - 0x8bffffff  N N  Secondary PCI 32-bit Memory 
0x8c000000 - 0x8fffffff  N N  Secondary PCI 64-bit Memory 
0x90000000 - 0x9000ffff  N N  Primary PCI IO Space 
0x90010000 - 0x9001ffff  N N  Secondary PCI IO Space 
0xa0000000 - 0xa0000fff  Y N  flash 
0xa0001000 - 0xbfffffff  Y Y  SDRAM 
0xc0000000 - 0xcfffffff  Y Y  Cache Flush Region 
0xf0000000 - 0xffffffff  N N  80200 Internal Registers </pre></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a11561"></a>5.1.8<span style="font-size: 12pt">&nbsp;&nbsp;</span>Resource
Usage</span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a11563"></a>The standalone flash based
RedBoot image (no ARM bootloader) occupies flash addresses 0x00000000 - 0x0003ffff. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">The
flash based RedBoot configured to be booted by the ARM bootloader occupies
flash addresses 0x00040000 - 0x0007ffff. Both of these also reserve RAM (0xa0000000
- 0xa001ffff) for RedBoot runtime uses. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Both RAM based RedBoot configurations are designed
to run from RAM at addresses 0xa0020000 - 0xa003ffff. RAM addresses from 0xa0040000
to the end of RAM are available for general use, such as a temporary scratchpad
for downloaded images before they are written to flash. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">The
external timer is used as a polled timer to provide timeout support for networking
and XModem file transfers.</span></div><br class="pgbrk" style="padding-top: 48pt"
clear="all"><h2 class="l14p14" style="line-height: 18pt"><span class="f16sb"
style="color: blue"><a name="a11785"></a>5.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Intel
SA1100 (Brutus) </span></h2><h3 style="line-height: 17pt; padding-top: -8pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a11787"></a><a name="a11789"></a>5.2.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Overview</span></h3><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a11791"></a><a name="a11793"></a><a name="a11800"></a><a name="a11801"></a><a
name="a11808"></a>RedBoot supports both board serial ports on the Brutus board.
The default serial port settings are 38400,8,N,1. flash management is not
currently supported. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Two basic RedBoot configurations are supported:</span></div><div
class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from the board&#8217;s
flash boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from RAM with RedBoot
in the flash boot sector.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a12034"></a>5.2.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Initial
Installation Method </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a12036"></a>Device programmer is used
to program socketecflash parts.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a12042"></a>5.2.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Special
RedBoot Commands </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a12044"></a>None.</span></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a12050"></a>5.2.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Memory
Maps </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a12052"></a>The first level page table
is located at physical address 0xc0004000. No second level tables are used.</span></div><div
class="p8" style="padding-left: 5.1%"><span style="font-family: serif"><img
src="redboot-generic.htm.graphics/note.gif" alt="C:\Program Files\Epic\entities\note.eps"
height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span class="f18sbB"
style="font-size: 13pt">NOTE:</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">The virtual memory maps in this section use a C
and B column to indicate whether or not the region is cached (C) or buffered
(B).</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">Physical Address Range     Description 
-----------------------    ---------------------------------- 
0x00000000 - 0x000fffff    Boot ROM 
0x08000000 - 0x083fffff    Application flash 
0x10000000 - 0x100fffff    SRAM 
0x18000000 - 0x180fffff    Chip Select 3 
0x20000000 - 0x3fffffff    PCMCIA  
0x80000000 - 0xbfffffff    SA-1100 Internal Registers 
0xc0000000 - 0xc7ffffff    DRAM Bank 0 
0xc8000000 - 0xcfffffff    DRAM Bank 1 
0xd0000000 - 0xd7ffffff    DRAM Bank 2 
0xd8000000 - 0xdfffffff    DRAM Bank 3 
0xe0000000 - 0xe7ffffff    Cache Clean  

Virtual Address Range    C B  Description 
-----------------------  - -  ---------------------------------- 
0x00000000 - 0x003fffff  Y Y  DRAM Bank 0 
0x00400000 - 0x007fffff  Y Y  DRAM Bank 1 
0x00800000 - 0x00bfffff  Y Y  DRAM Bank 2 
0x00c00000 - 0x00ffffff  Y Y  DRAM Bank 3 
0x08000000 - 0x083fffff  Y Y  Application flash 
0x10000000 - 0x100fffff  Y N  SRAM 
0x20000000 - 0x3fffffff  N N  PCMCIA 
0x40000000 - 0x400fffff  Y Y  Boot ROM 
0x80000000 - 0xbfffffff  N N  SA-1100 Internal Registers 
0xe0000000 - 0xe7ffffff  Y Y  Cache Clean</pre></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a12071"></a>5.2.5<span style="font-size: 12pt">&nbsp;&nbsp;</span>Resource
Usage </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a12073"></a>The flash based RedBoot image
occupies flash addresses 0x40000000 - 0x4000ffff. The RAM based RedBoot image
occupies RAM addresses 0x10000 - 0x2ffff. RAM addresses from 0x30000 to the
end end of RAM are available for general use such as a temporary scratchpad
for downloaded images before they are written to flash. The SA11x0 OS timer
is used as a polled timer to provide timeout support for XModem file transfers.</span></div><br
class="pgbrk" style="padding-top: 48pt" clear="all"><h2 class="l14p14" style="line-height: 18pt"><span
class="f16sb" style="color: blue"><a name="a12080"></a>5.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Intel
StrongArm EBSA 285</span></h2><h3 style="line-height: 17pt; padding-top: -8pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a12288"></a><a name="a12290"></a>5.3.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Overview</span></h3><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a12292"></a><a name="a12294"></a><a name="a12301"></a><a name="a12302"></a><a
name="a12309"></a>RedBoot uses the single EBSA-285 serial port. The default
serial port settings are 38400,8,N,1. If the EBSA-285 is used as a host on
a PCI backplane, ethernet is supported using an Intel PRO/100+ ethernet adapter.</span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Management
of onboard flash is also supported. Two basic RedBoot configurations are supported: </span></div><div
class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from the board&#8217;s
flash boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from RAM with RedBoot
in the flash boot sector.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a12329"></a>5.3.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Initial
Installation Method </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a12331"></a>A linux application is used
to program the flash over the PCI bus. Sources and build instructions for
this utility are located in the RedBoot sources in: </span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">.../packages/hal/arm/ebsa285/current/support/linux/safl_util</pre></div
><h3 class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a12546"></a>5.3.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Communication
Channels </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a12548"></a>Serial, Intel PRO 10/100+
82559 PCI ethernet card.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a12554"></a>5.3.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Special
RedBoot Commands </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a12556"></a>None.</span></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a12562"></a>5.3.5<span style="font-size: 12pt">&nbsp;&nbsp;</span>Memory
Maps </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a12564"></a>Physical and virtual mapping
are mapped one to one on the EBSA-285 using a first level page table located
at address 0x4000. No second level tables are used. </span></div><div class="p8"
style="padding-left: 5.1%"><span style="font-family: serif"><img src="redboot-generic.htm.graphics/note.gif"
alt="C:\Program Files\Epic\entities\note.eps" height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span
class="f18sbB" style="font-size: 13pt">NOTE </span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">The virtual memory maps in this section use a C
and B column to indicate whether or not the region is cached (C) or buffered
(B).</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">Address Range            C B  Description 
-----------------------  - -  ---------------------------------- 
0x00000000 - 0x007fffff  Y Y  SDRAM 
0x40000000 - 0x400fffff  N N  21285 Registers 
0x41000000 - 0x413fffff  Y N  flash 
0x42000000 - 0x420fffff  N N  21285 CSR Space 
0x50000000 - 0x50ffffff  Y Y  Cache Clean 
0x78000000 - 0x78ffffff  N N  Outbound Write Flush 
0x79000000 - 0x7c0fffff  N N  PCI IACK/Config/IO 
0x80000000 - 0xffffffff  N Y  PCI Memory </pre></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a12581"></a>5.3.6<span style="font-size: 12pt">&nbsp;&nbsp;</span>Resource
Usage </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a12583"></a>The flash based RedBoot image
occupies flash addresses 0x41000000 - 0x4101ffff. It also reserves the first
128K bytes of RAM for runtime uses. The RAM based RedBoot image occupies RAM
addresses 0x20000 - 0x3ffff. RAM addresses from 0x40000 to the end end of
RAM are available for general use such as a temporary scratchpad for downloaded
images before they are written to flash.</span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Timer3 is used as a polled timer to provide timeout
support for networking and XModem file transfers.</span></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a12592"></a>5.3.7<span style="font-size: 12pt">&nbsp;&nbsp;</span>Intel
StrongARM EBSA-285 Building Test Cases to run with RedBoot</span></h3><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a12800"></a>The default configuration for EBSA-285 at present always
sends diagnostic output to the serial line; to use RedBoot to channel diagnostic
output to GDB whether connected by net or serial, enable the configuration
option  </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">CYGSEM_HAL_VIRTUAL_VECTOR_DIAG  
&quot;Do diagnostic IO via virtual vector table&quot;</pre></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">located
here in the common HAL configuration tree: </span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">&quot;eCos HAL&quot;
     &quot;ROM monitor support&quot;
          &quot;Enable use of virtual vector calling interface&quot;
              &quot;Do diagnostic IO via virtual vector table&quot;</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Other
than that, no special configuration is required to use RedBoot. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">If
you have been using built-in stubs to acquire support for thread-aware debugging,
you can still do that, but you must only use the serial device for GDB connection
and you must not enable the option mentioned above. However, it is no longer
necessary to do that to get thread-awareness; RedBoot is thread aware.</span></div><br
class="pgbrk" style="padding-top: 48pt" clear="all"><h2 class="l14p14" style="line-height: 18pt"><span
class="f16sb" style="color: blue"><a name="a12818"></a>5.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Intel
SA1100 Multimedia Board </span></h2><h3 style="line-height: 17pt; padding-top: -8pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a12820"></a><a name="a12822"></a>5.4.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Overview</span></h3><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a12824"></a><a name="a12826"></a><a name="a12833"></a><a name="a12834"></a><a
name="a12841"></a>RedBoot supports both board serial ports. The default serial
port settings are 38400,8,N,1. flash management is also supported. Two basic
RedBoot configurations are supported: n	</span></div><div class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"
><span style="font-family: serif">&#8226;&nbsp;RedBoot running from the board&#8217;s
flash boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from RAM with RedBoot
in the flash boot sector.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a13064"></a>5.4.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Initial
Installation Method </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a13066"></a>A device programmer is used
to program socketed flash parts.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a13072"></a>5.4.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Special
RedBoot Commands </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a13074"></a>None.</span></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a13080"></a>5.4.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Memory
Maps </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a13082"></a>The first level page table
is located at physical address 0xc0004000. No second level tables are used.</span></div><div
class="p8" style="padding-left: 5.1%"><span style="font-family: serif"><img
src="redboot-generic.htm.graphics/note.gif" alt="C:\Program Files\Epic\entities\note.eps"
height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span class="f18sbB"
style="font-size: 13pt">NOTE:</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">The virtual memory maps in this section use a C
and B column to indicate whether or not the region is cached (C) or buffered
(B).</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">Physical Address Range     Description 
-----------------------    ---------------------------------- 
0x00000000 - 0x000fffff    Boot flash 
0x08000000 - 0x083fffff    Application flash 
0x10000000 - 0x107fffff    SA-1101 Board Registers 
0x18000000 - 0x180fffff    Ct8020 DSP 
0x18400000 - 0x184fffff    XBusReg 
0x18800000 - 0x188fffff    SysRegA 
0x18c00000 - 0x18cfffff    SysRegB 
0x19000000 - 0x193fffff    Spare CPLD A 
0x19400000 - 0x197fffff    Spare CPLD B 
0x20000000 - 0x3fffffff    PCMCIA 
0x80000000 - 0xbfffffff    SA1100 Internal Registers 
0xc0000000 - 0xc07fffff    DRAM Bank 0 
0xe0000000 - 0xe7ffffff    Cache Clean  
Virtual Address Range    C B  Description 

-----------------------  - -  ---------------------------------- 
0x00000000 - 0x007fffff  Y Y  DRAM Bank 0 
0x08000000 - 0x083fffff  Y Y  Application flash 
0x10000000 - 0x100fffff  N N  SA-1101 Registers 
0x18000000 - 0x180fffff  N N  Ct8020 DSP 
0x18400000 - 0x184fffff  N N  XBusReg 
0x18800000 - 0x188fffff  N N  SysRegA 
0x18c00000 - 0x18cfffff  N N  SysRegB 
0x19000000 - 0x193fffff  N N  Spare CPLD A 
0x19400000 - 0x197fffff  N N  Spare CPLD B 
0x20000000 - 0x3fffffff  N N  PCMCIA 
0x50000000 - 0x500fffff  Y Y  Boot flash 
0x80000000 - 0xbfffffff  N N  SA1100 Internal Registers 
0xc0000000 - 0xc07fffff  N Y  DRAM Bank 0 
0xe0000000 - 0xe7ffffff  Y Y  Cache Clean</pre></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a13101"></a>5.4.5<span style="font-size: 12pt">&nbsp;&nbsp;</span>Resource
Usage </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a13103"></a>The flash based RedBoot image
occupies virtual addresses 0x50000000 - 0x5000ffff. The RAM based RedBoot
image occupies virtual addresses 0x10000 - 0x2ffff. RAM addresses from 0x30000
to the end end of RAM are available for general use such as a temporary scratchpad
for downloaded images before they are written to flash.</span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">The
SA11x0 OS timer is used as a polled timer to provide timeout support for XModem
file transfers.</span></div><br class="pgbrk" style="padding-top: 48pt" clear="all"><h2
class="l14p14" style="line-height: 18pt"><span class="f16sb" style="color: blue"><a
name="a13319"></a>5.5<span style="font-size: 12pt">&nbsp;&nbsp;</span>Intel
SA1110 (Assabet) </span></h2><h3 style="line-height: 17pt; padding-top: -8pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a13321"></a><a name="a13323"></a>5.5.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Overview</span></h3><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a13325"></a><a name="a13327"></a><a name="a13334"></a><a name="a13335"></a><a
name="a13342"></a>RedBoot supports the board serial port and the compact flash
ethernet port. The default serial port settings are 38400,8,N,1. RedBoot also
supports flash management on the Assabet. Two basic RedBoot configurationsare
supported: </span></div><div class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from the board&#8217;s
flash boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from RAM with RedBoot
in the flash boot sector.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a13359"></a>5.5.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Initial
Installation Method </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a13361"></a>A Windows or Linux utility
is used to program flash over parallel port driven JTAG interface. See board
documentation for details on in situ flash programming. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">The
flash parts are also socketed and may be programmed in a suitable device programmer.</span></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a13576"></a>5.5.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Special
RedBoot Commands </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a13578"></a>None.</span></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a13584"></a>5.5.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Memory
Maps </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a13586"></a>The first level page table
is located at physical address 0xc0004000. No second level tables are used.</span></div><div
class="p8" style="padding-left: 5.1%"><span style="font-family: serif"><img
src="redboot-generic.htm.graphics/note.gif" alt="C:\Program Files\Epic\entities\note.eps"
height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span class="f18sbB"
style="font-size: 13pt">NOTE:</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">The virtual memory maps in this section use a C
and B column to indicate whether or not the region is cached (C) or buffered
(B).</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">Physical Address Range     Description 
-----------------------    ---------------------------------- 
0x00000000 - 0x07ffffff    flash 
0x08000000 - 0x0fffffff    SA-1111 Board flash 
0x10000000 - 0x17ffffff    Board Registers 
0x18000000 - 0x1fffffff    Ethernet 
0x20000000 - 0x2fffffff    SA-1111 Board PCMCIA 
0x30000000 - 0x3fffffff    Compact Flash 
0x40000000 - 0x47ffffff    SA-1111 Board 
0x48000000 - 0x4bffffff    GFX 
0x80000000 - 0xbfffffff    SA-1110 Internal Registers 
0xc0000000 - 0xc7ffffff    DRAM Bank 0 
0xc8000000 - 0xcfffffff    DRAM Bank 1 
0xd0000000 - 0xd7ffffff    DRAM Bank 2 
0xd8000000 - 0xdfffffff    DRAM Bank 3 
0xe0000000 - 0xe7ffffff    Cache Clean  

Virtual Address Range    C B  Description 
-----------------------  - -  ---------------------------------- 
0x00000000 - 0x01ffffff  Y Y  DRAM Bank 0 
0x08000000 - 0x0fffffff  Y Y  SA-1111 Board flash 
0x10000000 - 0x17ffffff  N N  Board Registers 
0x18000000 - 0x1fffffff  N N  Ethernet 
0x20000000 - 0x2fffffff  N N  SA-1111 Board PCMCIA 
0x30000000 - 0x3fffffff  N N  Compact Flash 
0x40000000 - 0x47ffffff  N N  SA-1111 Board 
0x48000000 - 0x4bffffff  N N  GFX 
0x50000000 - 0x57ffffff  Y Y  flash 
0x80000000 - 0xbfffffff  N N  SA-1110 Internal Registers 
0xc0000000 - 0xc1ffffff  N Y  DRAM Bank 0 
0xe0000000 - 0xe7ffffff  Y Y  Cache Clean 
The flash based RedBoot image occupies virtual addresses 0x50000000 - 0x5001ffff.</pre></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a13605"></a>5.5.5<span style="font-size: 12pt">&nbsp;&nbsp;</span>Resource
Usage </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a13607"></a>The RAM based RedBoot image
occupies RAM addresses 0x20000 - 0x5ffff. RAM addresses from 0x60000 to the
end end of RAM are available for general use such as a temporary scratchpad
for downloaded images before they are written to flash. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">The
SA11x0 OS timer is used as a polled timer to provide timeout support for network
and XModem file transfers.</span></div><br class="pgbrk" style="padding-top: 48pt"
clear="all"><h2 class="l14p14" style="line-height: 18pt"><span class="f16sb"
style="color: blue"><a name="a25133"></a>5.6<span style="font-size: 12pt">&nbsp;&nbsp;</span>MIPS
Atlas Board with CoreLV 4Kc and CoreLV 5Kc </span></h2><h3 style="line-height: 17pt; padding-top: -8pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a25135"></a><a name="a25137"></a>5.6.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Overview</span></h3><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a16641"></a><a name="a16643"></a><a name="a16650"></a><a name="a16651"></a><a
name="a16658"></a>RedBoot supports the debug serial port and the built in
ethernet port for communication and downloads. The default serial port settings
are 115200,8,N,1. RedBoot runs from and supports flash management for the
system flash region. These configurations are supported: </span></div><div
class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from the system flash
boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from RAM with RedBoot
in the system flash boot sector.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a16675"></a>5.6.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Initial
Installation Method </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a16677"></a>RedBoot is installed using
the code download facility built into the Atlas board. See the Atlas User
manual for details. Here are quick start instructions for downloading the
prebuilt RedBoot image. </span></div><div class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">1.&nbsp;Locate the prebuilt files in the bin directory:
deleteall.dl and redboot.dl. </span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">2.&nbsp;Make sure switch S1-1 is OFF and switch
S5-1 is ON. Reset the board and verify that the LED display reads </span><span
class="m">Flash DL</span><span style="font-family: serif">. </span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">3.&nbsp;Make sure your parallel port is connected
to the 1284 port Of the Atlas board. </span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"
><span style="font-family: serif">4.&nbsp;Send the deleteall.dl file to the
parallel port to erase previous images: </span></div><div class="fltp" style="padding: 8pt 0% 0% 7.6%"><pre
class="flts" style="padding-left: 7.6%">% cat deleteall.dl >/dev/lp0</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 3.8%"><span
style="font-family: serif">When this is complete, the LED display should read &#8220;Deleted.&#8221; </span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">5.&nbsp;Send the RedBoot image to the board: </span></div><div
class="fltp" style="padding: 8pt 0% 0% 7.6%"><pre class="flts" style="padding-left: 7.6%">% cat redboot.dl >/dev/lp0</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 3.8%"><span
style="font-family: serif">When this is complete, the LED display should show
the last address programmed. This will be something like: </span><span class="m">1fc17000</span><span
style="font-family: serif">. </span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">6.&nbsp;Change switch S5-1 to OFF and reset the
board. The LED display should read &#8220;RedBoot&#8221;. </span></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a23337"></a>5.6.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Memory
Maps </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a23339"></a>Memory Maps RedBoot sets up
the following memory map on the Atlas board.</span></div><div class="p8" style="padding-left: 5.1%"><span
style="font-family: serif"><img src="redboot-generic.htm.graphics/note.gif"
alt="C:\Program Files\Epic\entities\note.eps" height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span
class="f18sbB" style="font-size: 13pt">NOTE:</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">The virtual memory maps in this section use a C
and B column to indicate whether or not the region is cached (C) or buffered
(B).</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">Physical Address Range Description  
----------------------- -------------  
0x00000000 - 0x07ffffff SDRAM  
0x08000000 - 0x17ffffff PCI Memory Space  
0x18000000 - 0x1bdfffff PCI I/O Space  
0x1be00000 - 0x1bffffff System Controller  
0x1c000000 - 0x1dffffff System flash  
0x1e000000 - 0x1e3fffff Monitor flash  
0x1f000000 - 0x1fbfffff FPGA</pre></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a31754"></a>5.6.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Resource
Usage </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a31756"></a>The flash based RedBoot image
occupies flash addresses 0x1fc00000 - 0x1fc1ffff. RedBoot also reserves RAM
(0x00000000 - 0x0001ffff) for RedBoot runtime uses. RAM based RedBoot configurations
are designed to run from RAM at physical addresses 0x00020000 - 0x0003ffff.
RAM physical addresses from 0x00040000 to the end of RAM are available for
general use, such as a temporary scratchpad for downloaded images, before
they are written to flash.</span></div><br class="pgbrk" style="padding-top: 48pt"
clear="all"><h2 class="l14p14" style="line-height: 18pt"><span class="f16sb"
style="color: blue"><a name="a14866"></a>5.7<span style="font-size: 12pt">&nbsp;&nbsp;</span>QED
MIPS RM7000 Ocelot</span></h2><h3 style="line-height: 17pt; padding-top: -8pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a14868"></a><a name="a14870"></a>5.7.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Overview</span></h3><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a14872"></a><a name="a14874"></a><a name="a14881"></a><a name="a14882"></a><a
name="a14889"></a>RedBoot uses the front facing serial port. The default serial
port settings are 38400,8,N,1. RedBoot also supports ethernet. Management
of onboard flash is also supported. Two basic RedBoot configurations are supported:</span></div><div
class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from the board s flash
boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from RAM with RedBoot
in the flash boot sector.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a15112"></a>5.7.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Initial
Installation Method </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a15114"></a>Device programmer is used
to program socketed flash parts.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a15120"></a>5.7.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Special
RedBoot Commands </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a15122"></a>None.</span></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a15128"></a>5.7.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Memory
Maps </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a15130"></a>RedBoot sets up the following
memory map on the Ocelot board. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Note that these addresses are accessed through
kseg0/1 and thus translate to the actual address range 0x80000000-0xbfffffff,
depending on the need for caching/non-caching access to the bus.</span></div><div
class="p8" style="padding-left: 5.1%"><span style="font-family: serif"><img
src="redboot-generic.htm.graphics/note.gif" alt="C:\Program Files\Epic\entities\note.eps"
height="38pt" width="37pt"></span><span>&nbsp;&nbsp;&nbsp;</span><span class="f18sbB"
style="font-size: 13pt">NOTE:</span></div><div style="line-height: 13pt; text-align: justify; padding: 7pt 0% 0% 5.1%"><span
style="font-family: serif">The virtual memory maps in this section use a C
and B column to indicate whether or not the region is cached (C) or buffered
(B).</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts"
style="padding-left: 3.8%">Physical Address Range Description  
----------------------- -----------  
0x00000000 - 0x0fffffff SDRAM  
0x10000000 - 0x10ffffff PCI I/O space  
0x12000000 - 0x13ffffff PCI Memory space  
0x14000000 - 0x1400ffff Galileo system controller  
0x1c000000 - 0x1c0000ff PLD (board logic)  
0x1fc00000 - 0x1fc7ffff flash</pre></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a15150"></a>5.7.5<span style="font-size: 12pt">&nbsp;&nbsp;</span>Resource
Usage </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a15152"></a>The flash based RedBoot image
occupies flash addresses 0x1fc00000 - 0x1fc1ffff. RedBoot also reserves RAM
(0x00000000 - 0x0001ffff) for RedBoot runtime uses. </span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">RAM
based RedBoot configurations are designed to run from RAM at physical addresses
0x00020000 - 0x0003ffff. RAM physical addresses from 0x00040000 to the end
of RAM are available for general use, such as a temporary scratchpad for downloaded
images, before they are written to flash.</span></div><br class="pgbrk" style="padding-top: 48pt"
clear="all"><h2 class="l14p14" style="line-height: 18pt"><span class="f16sb"
style="color: blue"><a name="a15368"></a>5.8<span style="font-size: 12pt">&nbsp;&nbsp;</span>Motorola
PowerPC MBX</span></h2><h3 style="line-height: 17pt; padding-top: -8pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a15370"></a><a name="a15372"></a>5.8.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Overview</span></h3><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a15374"></a><a name="a15376"></a><a name="a15383"></a><a name="a15384"></a><a
name="a15391"></a>RedBoot uses the SMC1/COM1 serial port. The default serial
port settings are 38400,8,N,1. Ethernet is also supported using the 10-base
T connector. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">Management of onboard flash is also supported.
Two basic RedBoot configurations are supported: </span></div><div class="p6"
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from RAM with RedBoot
in the flash boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from the board&#8217;s
flash boot sector.  </span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a15617"></a>5.8.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Initial
Installation Method </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a15619"></a>Device programmer is used
to program the XU1 socketed flash part  (AM29F040B) with the ROM version of
RedBoot. - Use the on-board EPPC-Bug monitor to update RedBoot. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">This
assumes that you have EPPC-Bug in the on-board flash. This can be determined
by setting up the board according to the following instructions and powering
up the board. </span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">The EPPC-Bug prompt should appear on the SMC1 connector
at 9600 baud, 8N1. </span></div><div class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">1.&nbsp;Set jumper 3 to 2-3 [allow XU1 flash to
be programmed]  </span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">2.&nbsp;Set jumper 4 to 2-3 [boot EPPC-Bug] </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">If
it is available, program the flash by following these steps: </span></div><div
class="p6" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">1.&nbsp;Prepare EPPC-Bug for download: </span></div><div
class="fltp" style="padding: 8pt 0% 0% 7.6%"><pre class="flts" style="padding-left: 7.6%">EPPC-Bug>lo 0</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify; padding-left: 3.8%"><span
style="font-family: serif">At this point the monitor is ready for input. It
will not return the prompt until the file has been downloaded.  </span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">2.&nbsp;Use the terminal emulator&#8217;s ASCII
download feature (or a simple clipboard copy/paste operation) to download
the redboot.ppcbug file.</span></div><div class="p8" style="line-height: 13pt; text-align: justify; padding-left: 3.8%"><span
style="font-family: serif">Note that on Linux, Minicom&#8217;s ASCII download
feature seems to be broken. A workaround is to load the file into emacs (or
another editor) and copy the full contents to the clipboard. Then press the
mouse paste-button (usually the middle one) over the Minicom window.  </span></div><div
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">3.&nbsp;Program the flash with the downloaded data: </span></div><div
class="fltp" style="padding: 8pt 0% 0% 7.6%"><pre class="flts" style="padding-left: 7.6%">EPPC-Bug>pflash 40000 60000 fc000000</pre></div><div
class="p8" style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">4.&nbsp;Switch off the power, and change jumper
4 to 1-2. Turn on the power again. The board should now boot using the newly
programmed RedBoot.</span></div><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif">To install RedBoot on a target that already has
eCos GDB stubs, download the RAM version of RedBoot and run it. Initialize
the flash image directory: </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">RedBoot> fi init</pre></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Then
download the ROM version of RedBoot and program it into flash: </span></div><div
class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">RedBoot> load -b 0x00040000 -m ymodem  
RedBoot> fi cr RedBoot -f 0x04000000 -b 0x00040000 -l 0x20000</pre></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a15894"></a>5.8.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Special
RedBoot Commands </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a15896"></a>None.</span></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a15902"></a>5.8.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Memory
Maps </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a15904"></a>Memory Maps RedBoot sets up
the following memory map on the PID board.</span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">Physical Address Range Description  
----------------------- -----------  
0x00000000 - 0x003fffff DRAM  
0xfa100000 - 0xfa100003 LEDs  
0xfe000000 - 0xfe07ffff flash (AMD29F040B)  
0xff000000 - 0xff0fffff MPC registers</pre></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a15913"></a>5.8.5<span style="font-size: 12pt">&nbsp;&nbsp;</span>Resource
Usage </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a15915"></a>The flash based RedBoot image
occupies flash addresses 0xfe000000 -  0xfe01ffff. RedBoot also reserves RAM
(0x00000000 - 0x0001ffff) for RedBoot runtime uses. RAM based RedBoot configurations
are designed to run from RAM at physical addresses 0x00020000 - 0x0004ffff.
RAM physical addresses from 0x00050000 to the end of RAM are available for
general use, such as a temporary scratchpad for downloaded images, before
they are written to flash.</span></div><br class="pgbrk" style="padding-top: 48pt"
clear="all"><h2 class="l14p14" style="line-height: 18pt"><span class="f16sb"
style="color: blue"><a name="a16128"></a>5.9<span style="font-size: 12pt">&nbsp;&nbsp;</span>ARM
ARM7 PID, Dev7 and Dev9</span></h2><h3 style="line-height: 17pt; padding-top: -8pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a16130"></a><a name="a16132"></a>5.9.1<span
style="font-size: 12pt">&nbsp;&nbsp;</span>Overview</span></h3><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif"><a
name="a16134"></a><a name="a16136"></a><a name="a16143"></a><a name="a16144"></a><a
name="a16151"></a>RedBoot uses either of the serial ports. The default serial
port settings are 38400,8,N,1. Management of onboard flash is also supported.
Two basic RedBoot configurations are supported:  </span></div><div class="p6"
style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding-left: 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from the board&#8217;s
flash boot sector.</span></div><div style="line-height: 13pt; text-align: justify; text-indent: -3.8%; padding: 4pt 0% 0% 3.8%"><span
style="font-family: serif">&#8226;&nbsp;RedBoot running from RAM with RedBoot
in the flash boot sector.</span></div><h3 class="l14p14" style="line-height: 17pt"><span
class="f18sbB" style="font-size: 15pt"><a name="a16168"></a>5.9.2<span style="font-size: 12pt">&nbsp;&nbsp;</span>Initial
Installation Method </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a16170"></a>Device programmer is used
to program socketed flash parts with ROM version of RedBoot. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">Alternatively,
to install RedBoot on a target that already has eCos GDB stubs, download the
RAM version of RedBoot and run it. Initialize the flash image directory: </span><span
class="m">RedBoot> fi init</span><span style="font-family: serif"> Then download
the ROM version of RedBoot and program it into flash: </span></div><div class="fltp"
style="padding: 8pt 0% 0% 3.8%"><pre class="flts" style="padding-left: 3.8%">RedBoot> load -b 0x00040000 -m ymodem  
RedBoot> fi cr RedBoot -f 0x04000000 -b 0x00040000 -l 0x20000</pre></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a16392"></a>5.9.3<span style="font-size: 12pt">&nbsp;&nbsp;</span>Special
RedBoot Commands </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a16394"></a>None.</span></div><h3 class="l14p14"
style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a16400"></a>5.9.4<span style="font-size: 12pt">&nbsp;&nbsp;</span>Memory
Maps </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a16402"></a>RedBoot sets up the following
memory map on the PID board. </span></div><div class="fltp" style="padding: 8pt 0% 0% 3.8%"><pre
class="flts" style="padding-left: 3.8%">Physical Address Range Description  
----------------------- -----------  
0x00000000 - 0x0007ffff DRAM  
0x04000000 - 0x04080000 flash  
0x08000000 - 0x09ffffff ASB Expansion  
0x0a000000 - 0x0bffffff APB Reference Peripheral  
0x0c000000 - 0x0fffffff NISA Serial, Parallel and PC Card ports </pre></div><h3
class="l14p14" style="line-height: 17pt"><span class="f18sbB" style="font-size: 15pt"><a
name="a16411"></a>5.9.5<span style="font-size: 12pt">&nbsp;&nbsp;</span>Resource
Usage </span></h3><div class="p8" style="line-height: 13pt; text-align: justify"><span
style="font-family: serif"><a name="a16413"></a>The flash based RedBoot image
occupies flash addresses 0x04000000 -  0x0401ffff. </span></div><div class="p8"
style="line-height: 13pt; text-align: justify"><span style="font-family: serif">RedBoot
also reserves RAM (0x00000000 - 0x00007fff) for RedBoot runtime uses. </span></div><div
class="p8" style="line-height: 13pt; text-align: justify"><span style="font-family: serif">RAM
based RedBoot configurations are designed to run from RAM at physical addresses
0x00008000 - 0x0003ffff. RAM physical addresses from 0x00040000 to the end
of RAM are available for general use, such as a temporary scratchpad for downloaded
images, before they are written to flash.</span></div></div><div class="pgbrk"
style="padding-top: 48pt"><div style="line-height: 18pt"><span class="f16sb"
style="color: blue">Index</span></div><div class="p8" style="line-height: 13pt"><span
class="b" style="font-family: sans-serif; text-transform: uppercase">a</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a16136">ARM ARM7 PID, Dev7 and Dev9</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a16136">installing and testing</a>  <a href="#a16136">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">b</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a1801">BOOTP</a>  <a href="#a1801">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a3100">enabling on Red Hat Linux</a>  <a href="#a3100">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">c</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a1284">cli</a>  <a href="#a1284">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a4622">commands</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a4622">common</a>  <a href="#a4622">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a4873">connectivity</a>  <a href="#a4873">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a5898">download</a>  <a href="#a5898">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a4357">editing</a>  <a href="#a4357">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a6435">fis</a>  <a href="#a6435">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a6422">flash image system</a>  <a href="#a6422">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a5390">general</a>  <a href="#a5390">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span
style="font-family: serif"><a href="#a3619">commands and examples</a>  <a
href="#a3619">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span
style="font-family: serif"><a href="#a2326">configuration</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a2326">network</a>  <a href="#a2326">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a1574">secondary</a>  <a href="#a1574">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a8239">configuration and control</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a8239">flash-based</a>  <a href="#a8239">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a9499">configuration export files</a>  <a href="#a9499">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a1320">configuring the RedBoot environment</a>  <a href="#a1320">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a4881">connectivity commands</a>  <a href="#a4881">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a10537">Cyclone IQ80310</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a10537">installing and testing</a>  <a
href="#a10537">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span
style="font-family: serif"><a href="#a533">CygMon</a>  <a href="#a533">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">d</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a1807">DHCP</a>  <a href="#a1807">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a3091">enabling on Red Hat Linux</a>  <a href="#a3091">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a5906">download commands</a>  <a href="#a5906">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">e</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a4352">editing commands</a>  <a href="#a4352">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a1541">environment configuration</a>  <a href="#a1541">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a8735">executing programs</a>  <a href="#a8735">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">f</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a1830">fconfig command</a>  <a href="#a1830">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a6443">fis commands</a>  <a href="#a6443">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a1547">flash and/or networking support</a>  <a href="#a1547">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a6430">flash image system commands</a>  <a href="#a6430">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a8234">flash-based configuration and control</a>  <a href="#a8234">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">g</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a2079">GDB connection port</a>  <a href="#a2079">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif">GDB
stubs  <a href="#a539">(1)</a>, <a href="#a1306">(2)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a5398">general commands</a>  <a href="#a5398">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">h</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a2313">host network configuration</a>
 <a href="#a2313">(1)</a></span></div><div style="line-height: 13pt; padding-top: 12pt"><span
class="b" style="font-family: sans-serif; text-transform: uppercase">i</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a16144">installing and testing</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a16144">ARM ARM7 PID, Dev7 and Dev9</a>  <a href="#a16144">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a10545">Cyclone IQ80310</a>  <a href="#a10545">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a11801">Intel SA1100 (Brutus)</a>  <a href="#a11801">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a12834">Intel SA1100 Multimedia Board</a>  <a href="#a12834">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a13335">Intel SA1110 (Assabet)</a>  <a href="#a13335">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a12302">Intel StrongArm EBSA 285</a>  <a href="#a12302">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a16651">MIPS Atlas Board with CoreLV 4KC and CoreLV 5KC</a>  <a href="#a16651">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a15384">Motorola PowerPC MBX</a>  <a href="#a15384">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a14882">QED MIPS RM7000 Ocelot</a>  <a href="#a14882">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a10514">installing and testing RedBoot</a>  <a href="#a10514">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a1036">installing RedBoot</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a1036">general procedures</a>  <a href="#a1036">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a12826">Intel SA1100 Multimedia Board</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a12826">installing and testing</a>  <a
href="#a12826">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span
style="font-family: serif"><a href="#a13327">Intel SA1110 (Assabet)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a13327">installing and testing</a>  <a href="#a13327">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a12294">Intel StrongArm EBSA 285</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a12294">installing and testing</a>  <a
href="#a12294">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span
style="font-family: serif"><a href="#a11793">Intel-SA1100 (Brutus)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a11793">installing and testing</a>  <a href="#a11793">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif">IP
address type  <a href="#a1795">(1)</a>, <a href="#a1824">(2)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">m</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a16643">MIPS Atlas Board with CoreLV
4KC and CoreLV 5KC</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a16643">installing and testing</a>  <a
href="#a16643">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span
style="font-family: serif"><a href="#a15376">Motorola PowerPC MBX</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a15376">installing and testing</a>  <a href="#a15376">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">n</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a1569">network configuration</a>  <a
href="#a1569">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a2318">host</a>  <a href="#a2318">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a3347">network gateway</a>  <a href="#a3347">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a3374">network verification</a>  <a href="#a3374">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a1552">networking and/or flash support</a>  <a href="#a1552">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">p</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a8229">persistent state flash-based configuration
and control</a>  <a href="#a8229">(1)</a></span></div><div style="line-height: 13pt; padding-top: 12pt"><span
class="b" style="font-family: sans-serif; text-transform: uppercase">q</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a14874">QED MIPS RM7000 Ocelot</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a14874">installing and testing</a>  <a href="#a14874">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">r</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a9222">rebuilding RedBoot</a>  <a href="#a9222">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a524">Red Boot</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a524">getting started</a>  <a href="#a524">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a2579">Red Hat Linux</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a2579">enabling TFTP on version 6.2</a>
 <a href="#a2579">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a2834">enabling TFTP on version 7</a>
 <a href="#a2834">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span
style="font-family: serif"><a href="#a3611">RedBoot</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a3611">commands and examples</a>  <a
href="#a3611">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a4138">editing commands</a>  <a href="#a4138">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a1327">environment configuration</a>  <a href="#a1327">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a8740">executing programs</a>  <a href="#a8740">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a10519">installing and testing</a>  <a href="#a10519">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span style="font-family: serif"><a
href="#a9227">rebuilding</a>  <a href="#a9227">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a9757">updating</a>  <a href="#a9757">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a1044">RedBoot installation</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a1044">general procedures</a>  <a href="#a1044">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a3342">RedBoot network gateway</a>  <a href="#a3342">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a554">RedBoot&#8217;s capabilities</a>  <a href="#a554">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">t</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a1564">target network configuration</a>
 <a href="#a1564">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span
style="font-family: serif"><a href="#a1583">TCP/IP</a>  <a href="#a1583">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif">telnet
 <a href="#a2091">(1)</a>, <a href="#a1295">(2)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span
style="font-family: serif"><a href="#a2571">TFTP</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a2571">enabling on Red Hat Linux 6.2</a>
 <a href="#a2571">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 7.6%"><span
style="font-family: serif"><a href="#a2826">enabling on Red Hat Linux 7</a>
 <a href="#a2826">(1)</a></span></div><div style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span
style="font-family: serif"><a href="#a2062">TFTP commands</a>  <a href="#a2062">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">u</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a1073">ui</a>  <a href="#a1073">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a9752">updating RedBoot</a>  <a href="#a9752">(1)</a></span></div><div
style="line-height: 13pt; text-indent: -5.1%; padding-left: 5.1%"><span style="font-family: serif"><a
href="#a1068">user interface</a>  <a href="#a1068">(1)</a></span></div><div
style="line-height: 13pt; padding-top: 12pt"><span class="b" style="font-family: sans-serif; text-transform: uppercase">v</span></div><div
class="l1alp3"><hr></div><div style="line-height: 13pt; text-indent: -5.1%; padding: 2pt 0% 0% 5.1%"><span
style="font-family: serif"><a href="#a3369">verification (network)</a>  <a
href="#a3369">(1)</a></span></div></div></body>
</html>
