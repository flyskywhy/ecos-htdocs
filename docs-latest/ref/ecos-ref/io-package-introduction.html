<HTML
><HEAD
><TITLE
>Introduction</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.33"><LINK
REL="HOME"
TITLE="eCos Reference
Manual"
HREF="ecos-ref.html"><LINK
REL="UP"
TITLE="IO Package (Device Drivers)"
HREF="ecos-device-drivers.html"><LINK
REL="PREVIOUS"
TITLE="IO Package (Device Drivers)"
HREF="ecos-device-drivers.html"><LINK
REL="NEXT"
TITLE="User
API"
HREF="io-package-user-api.html"></HEAD
><BODY
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><SPAN
CLASS="TRADEMARK"
>eCos</SPAN
><SUP
><FONT
SIZE="-4"
>TM</FONT
></SUP
> Reference
Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="ecos-device-drivers.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="io-package-user-api.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="IO-PACKAGE-INTRODUCTION"
>Chapter 10. Introduction</A
></H1
><P
>The I/O package is designed as a general purpose
framework for supporting device drivers. This includes all classes
of drivers from simple serial to networking stacks and beyond. </P
><P
>Components of the I/O package, such as device drivers,
are configured into the system just like all other components. Additionally,
end users may add their own drivers to this set. </P
><P
>While the set of drivers (and the devices they represent)
may be considered static, they must be accessed via an opaque &#8220;handle&#8221;.
Each device in the system has a unique name and the <TT
CLASS="FUNCTION"
><B
>cyg_io_lookup()</B
></TT
> function
is used to map that name onto the handle for the device. This &#8220;hiding&#8221; of
the device implementation allows for generic, named devices, as
well as more flexibility. Also, the <TT
CLASS="FUNCTION"
><B
>cyg_io_lookup()</B
></TT
> function provides
drivers the opportunity to initialize the device when usage actually
starts. </P
><P
>All devices have a name. The standard provided devices use
names such as &#8220;/dev/console&#8221; and &#8220;/dev/serial0&#8221;,
where the &#8220;/dev/&#8221; prefix indicates
that this is the name of a device. </P
><P
>The entire I/O package API, as well as the standard
set of provided drivers, is written in C. </P
><P
>Basic functions are provided to send data to and receive data
from a device. The details of how this is done is left to the device [class] itself.
For example, writing data to a block device like a disk drive may
have different semantics than writing to a serial port. </P
><P
>Additional functions are provided to manipulate the state
of the driver and/or the actual device. These functions
are, by design, quite specific to the actual driver. </P
><P
>This driver model supports layering; in other words, a device
may actually be created &#8220;on top of&#8221; another device.
For example, the &#8220;tty&#8221; (terminal-like) devices
are built on top of simple serial devices. The upper layer then
has the flexibility to add features and functions not found at the
lower layers. In this case the &#8220;tty&#8221; device provides
for line buffering and editing not available from the simple serial
drivers. </P
><P
>Some drivers will support visibility of the layers they depend
upon. The &#8220;tty&#8221; driver allows information about
the actual serial device to be manipulated by passing get/set config
calls that use a serial driver &#8220;key&#8221; down to the
serial driver itself. </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="ecos-device-drivers.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ecos-ref.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="io-package-user-api.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>I/O Package (Device Drivers)</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ecos-device-drivers.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>User
API</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>