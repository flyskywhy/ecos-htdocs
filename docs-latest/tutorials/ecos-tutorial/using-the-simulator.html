<HTML
><HEAD
><TITLE
>Using the simulator</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.33"><LINK
REL="HOME"
TITLE="Getting Started with eCos"
HREF="ecos-tutorial.html"><LINK
REL="UP"
TITLE="Overview of the release"
HREF="overview-of-the-release.html"><LINK
REL="PREVIOUS"
TITLE="Architectural simulators"
HREF="architectural-simulators.html"><LINK
REL="NEXT"
TITLE="ROM
monitor image"
HREF="rom-monitor-image.html"></HEAD
><BODY
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Getting Started with <SPAN
CLASS="PRODUCTNAME"
><SPAN
CLASS="TRADEMARK"
>eCos</SPAN
><SUP
><FONT
SIZE="-4"
>TM</FONT
></SUP
></SPAN
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="architectural-simulators.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 2. Overview of the release</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="rom-monitor-image.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="USING-THE-SIMULATOR"
>Using the simulator</A
></H1
><P
>The instructions for starting the simulator from within <SPAN
CLASS="APPLICATION"
>GDB</SPAN
> involve
typing lengthy lines to set up proper parameters. One way to reduce
the amount of typing is to put the following code in your personal 
<SPAN
CLASS="APPLICATION"
>GDB</SPAN
> start-up
file (gdb.ini on Windows and .gdbinit on UNIX). You can then connect
to the simulators by typing <B
CLASS="COMMAND"
>psim</B
>, <B
CLASS="COMMAND"
>tsim</B
>, 
<B
CLASS="COMMAND"
>msim</B
>, or <B
CLASS="COMMAND"
>ssim</B
> for the PowerPC, TX39
JMR3904, MN10300 (AM31) stdeval1,  and SPARClite simulators respectively:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>define psim
	target sim -o &#8216;/iobus/pal@0xf0001000/reg 0xf0001000 32&#8217;
	rbreak cyg_test_exit
	rbreak cyg_assert_fail
end

define tsim
	target sim --board=jmr3904pal 
	--memory-region 0xffff8000,0x900 --memory-region 0xffffe000,0x4
	--memory-region 0xb2100000,0x4
	rbreak cyg_test_exit
	rbreak cyg_assert_fail
end

define msim
	target sim --board=stdeval1 --memory-region 0x34004000,0x8
	rbreak cyg_test_exit
	rbreak cyg_assert_fail
end

define ssim
	target sim -nfp -sparclite -dumbio
	rbreak cyg_test_exit
	rbreak cyg_assert_fail
end</PRE
></TD
></TR
></TABLE
><P
>In the remainder of this guide, only these short-form macros
will be used. If you do not define these macros, it&#8217;s possible
to get the same effect by typing out the macro contents instead
of the macro name.</P
><P
>For example, instead of:</P
><P
CLASS="LITERALLAYOUT"
><TT
CLASS="PROMPT"
></TT
><TT
CLASS="USERINPUT"
><B
>(gdb) psim</B
></TT
></P
><P
>a PowerPC user would type:</P
><P
CLASS="LITERALLAYOUT"
><TT
CLASS="PROMPT"
>(gdb) </TT
><TT
CLASS="USERINPUT"
><B
>target sim -o &#8216;iobus/pal@0xf0001000/reg 0xf0001000 32&#8217;</B
></TT
><br>
<TT
CLASS="PROMPT"
>(gdb) </TT
><TT
CLASS="USERINPUT"
><B
>rbreak cyg_test_exit</B
></TT
><br>
<TT
CLASS="PROMPT"
>(gdb) </TT
><TT
CLASS="USERINPUT"
><B
>rbreak cyg_assert_fail</B
></TT
><br>&#13;</P
><P
>Setting the breakpoints is optional.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="architectural-simulators.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ecos-tutorial.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="rom-monitor-image.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Architectural simulators</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="overview-of-the-release.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>ROM
monitor image</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>