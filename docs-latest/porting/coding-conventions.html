<HTML>
<HEAD>
<TITLE>HAL Coding Conventions</TITLE>
</HEAD>

<!--#include virtual="../../include/header.html"-->

<H2>HAL Coding Conventions [TBD]</H2>
<HR SIZE=3>

<h5>Coding Conventions</h5>
<p>To be considered for inclusion in the main eCos source tree, these
source code formatting rules and programming methods should be
fulfilled: <em>TBD (highlights from design document?)</em>

<p>Architecture header includes variant header includes platform
header. Platform allowed to override variant definitions allowed to
override architecture definitions.

<p>MMU if used, provides 1-1 mapping, rw, no protection - possibly use to
mark IO regions non-cachable.

<p>Source formatting rules in emacs lingo:

<pre>
;;=================================================================
;; eCos C/C++ mode Setup.
;;
;; bsd mode: indent = 4, &c &c
;; tail comments are at col 40.
;; uses spaces not tabs in C

(defun ecos-c-mode ()
  "C mode with adjusted defaults for use with the eCos sources."
  (interactive)
  (c++-mode)
  (c-set-style "bsd")
  (setq comment-column 40)
  (setq indent-tabs-mode nil)
  (show-paren-mode 1)
  (setq c-basic-offset 4)

  (set-variable 'add-log-full-name "<Your Name>")
  (set-variable 'add-log-mailing-address "<Your email address>"))

(defun ecos-asm-mode ()
  "ASM mode with adjusted defaults for use with the eCos sources."
  (interactive)
  (setq comment-column 40)
  (setq indent-tabs-mode nil)
  (asm-mode)
  (setq c-basic-offset 4)

  (set-variable 'add-log-full-name "<Your Name>")
  (set-variable 'add-log-mailing-address "<Your email address>"))

(setq auto-mode-alist
      (append '(("/local/ecc/.*\\.C$"   . ecos-c-mode)
                ("/local/ecc/.*\\.cc$"  . ecos-c-mode)
                ("/local/ecc/.*\\.cpp$" . ecos-c-mode)
                ("/local/ecc/.*\\.inl$" . ecos-c-mode)
                ("/local/ecc/.*\\.c$"   . ecos-c-mode)
                ("/local/ecc/.*\\.h$"   . ecos-c-mode)
		("/local/ecc/.*\\.S$"   . ecos-asm-mode) 
		("/local/ecc/.*\\.inc$" . ecos-asm-mode)
		("/local/ecc/.*\\.cdl$" . tcl-mode)
                ) auto-mode-alist))
</pre>

<!--#include virtual="../../include/footer.html"-->
