<HTML>
<HEAD>
<TITLE>Installing eCos under Windows</TITLE>
</HEAD>

<!--#include virtual="include/header.html"-->

<H2>Installing eCos under Windows</H2>
<HR SIZE=3>

<h3>Downloading</h3>

The eCos 1.1 distribution for Windows is provided as a self-extracting
executable file. Click on the following link to download:

<ul>
<li><A HREF="ftp://sourceware.cygnus.com/pub/ecos/eCos11.exe">eCos 1.1 sourceware for Windows</A> (eCos11.exe - 10MB)
</ul>

In order to build the eCos sources, you will require a cross-compiler
and related development tools. The necessary tools are designated
<i>ecosSWtools-981021</i> and are available in source form only. Note
that, although eCos may be configured and built under Windows 95 and
Windows 98, it is not possible to build the eCos development tools on
these platforms. If you wish to develop eCos applications using Windows
95 or Windows 98, you must build the development tools under Windows
NT. Click on the following link to download:

<ul>
<li><a href="ftp://sourceware.cygnus.com/pub/ecos/ecosSWtools-981021-src.tar.bz2">eCos development tools</a> (ecosSWtools-981021-src.tar.bz2 - 21MB)
</ul>

eCos also requires the GNU native tools for the building of the development tools and the eCos packages. Windows users should obtain the <a
href="http://sourceware.cygnus.com/cygwin/">Cygwin</a> Beta 20.1 version of
these tools. The full binary release is required. Click on
the following link to download:

<ul>
<li><a href="ftp://go.cygnus.com/pub/sourceware.cygnus.com/cygwin/cygwin-b20/full.exe">Cygwin Beta 20.1 development tools</a> (full.exe - 14MB)
</ul>

Note that the Cygwin tools also include the <i>bzip2</i> utility required to extract the eCos development tool sources.

<h3>Installation</h3>

<ol><li>Install the Cygwin native tools by running the downloaded
    distribution file and following the on-screen instructions. The
    remaining instructions assume that the Cygwin tools are installed
    to the default location. If you wish to install to a different
    location, you should avoid the use of spaces in the destination
    path. Once installed, select <i>Cygwin B20</i> from the start
    menu hierarchy to launch the <i>bash</i> command-line
    environment.<p>

<li>Build the eCos development tools (ecosSWtools-981021) by following
these steps at the <i>bash</i> prompt:<p>

  <ul>
  <li>Mount the logical drive(s) you will use to build the eCos development tools:<p>
  <nobr><tt>mount C: /c</tt></nobr><p>

  Note that binary mode mounts cannot be used for this purpose.<p>

  <li>Mount the Cygwin tools as <nobr><tt>/bin</tt></nobr> such that <nobr><tt>/bin/sh</tt></nobr> exists:<p>
  <nobr><tt>mount C:/cygnus/cygwin-b20/H-i586-cygwin32/bin /bin</tt></nobr><p>

  <li>Mount the Cygwin libraries as <nobr><tt>/lib</tt></nobr>:<p>
  <nobr><tt>mount C:/cygnus/cygwin-b20/H-i586-cygwin32/i586-cygwin32/lib /lib</tt></nobr><p>

  <li>Set the MAKE_MODE environment variable to "unix":<p>
  <nobr><tt>export MAKE_MODE=unix</tt></nobr><p>

  <li>Extract the eCos development tool sources from the
      downloaded distribution file:<p>
      <nobr><tt>
          cd /c/cygnus<br>
          bunzip2 -c ecosSWtools-981021-src.tar.bz2 | tar xvf -
      </tt></nobr><p>

   The directory <nobr><tt>C:\cygnus\ecosSWtools-981021\src</tt></nobr> should be generated and populated during the extraction process.<p>


  <li>Create an object directory for your builds:<p>
  <nobr><tt>mkdir /c/build</nobr><br>
  <nobr>cd /c/build</tt></nobr><p>

   <li>Configure the tools, saving the output to configure.out:<p>
   <nobr><tt>/c/cygnus/ecosSWtools-981021/src/configure -v \</nobr><br>
       <nobr>&nbsp;&nbsp;--prefix=/c/cygnus/ecosSWtools-981021 \</nobr><br>
       <nobr>&nbsp;&nbsp;--exec-prefix=/c/cygnus/ecosSWtools-981021/H-i586-cygwin32 \</nobr><br>
       <nobr>&nbsp;&nbsp;--host=i586-cygwin32 --target=<i>target-triplet</i> &gt; configure.out 2&gt;&amp;1</tt></nobr><p>

   You should replace <i><tt>target-triplet</tt></i> in the
   above command with one of the supported target triplets:
   <nobr><tt>mn10300-elf</tt></nobr>, <nobr><tt>mips-tx39-elf</tt></nobr>
   or <nobr><tt>powerpc-eabi</tt></nobr>.<p>

  <li>Build and install the tools, saving the output to make.out:<p>
  <nobr><tt>make -w all install &gt; make.out 2&gt;&amp;1</tt></nobr><p>
  </ul>

  When the build is complete, the executable files of the eCos
  development tools may be found in the directory
  <nobr><tt>C:\cygnus\ecosSWtools-981021\H-i586-cygwin32\bin</tt></nobr>.<p>

<li>Install eCos by running the downloaded distribution file and
following the on-screen instructions.
</ol>

<!--#include virtual="include/footer.html"-->
