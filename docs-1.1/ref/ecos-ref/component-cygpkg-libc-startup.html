<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Component: ISO C startup/termination</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet version 1.19"><LINK
REL="HOME"
TITLE="eCosTM Reference Manual"
HREF="ecos-ref.html"><LINK
REL="UP"
TITLE="Package: C Library"
HREF="package-cygpkg-libc.html"><LINK
REL="PREVIOUS"
TITLE="Option: Size of locale name strings"
HREF="option-cygnum-libc-max-locale-name-size.html"><LINK
REL="NEXT"
TITLE="Component: Tracing output levels in C library"
HREF="component-cygpkg-libc-trace.html"></HEAD
><BODY
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><SPAN
CLASS="PRODUCTNAME"
>eCos</SPAN
><SUP
><FONT
SIZE="-1"
>TM</FONT
></SUP
> Reference Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="option-cygnum-libc-max-locale-name-size.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 16. Package: C Library</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="component-cygpkg-libc-trace.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
CLASS="SECT1"
><A
NAME="COMPONENT-CYGPKG-LIBC-STARTUP"
>Component: ISO C startup/termination</A
></H1
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGPKG_LIBC_STARTUP</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Dummy</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>This component manages the control of the environment (in the general
sense) that the C library provides for use for full ISO C compatibility,
including a main() entry point supplied with arguments and an environment
(as retrievable by the getenv() function). It also includes at the
other end of things, what happens when main() returns or exit() is
called.
      </P
><H2
CLASS="SECT2"
><A
NAME="OPTION-CYGDAT-LIBC-ARGUMENTS"
>Option: Arguments to main()</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDAT_LIBC_ARGUMENTS</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>String</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>This option allows the setting of the arguments to the main function.
This only has any effect when cyg_iso_c_start() is used to start the
ISO C compatibility. This will automatically invoke main() in an ISO
C compatible fashion. This option is in fact used as argv, and so
is an n-tuple of string constants. The final entry must be NULL. Conventionally
if argv[0] is supplied, it is used to inform the program of its name.
      </P
><H2
CLASS="SECT2"
><A
NAME="OPTION-CYGNUM-LIBC-MAIN-STACK-SIZE"
>Option: main()'s thread stack size</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGNUM_LIBC_MAIN_STACK_SIZE</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Count</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>With an eCos kernel, when the cyg_iso_c_start() function is used to
invoke the user-supplied main() function in an ISO C compatible fashion,
a separate thread is created to call main(). This option controls
the size of that thread's stack, which is allocated in the BSS. It
must be a multiple of 8.
      </P
><H2
CLASS="SECT2"
><A
NAME="OPTION-CYGNUM-LIBC-ATEXIT-HANDLERS"
>Option: Number of functions atexit() supports</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGNUM_LIBC_ATEXIT_HANDLERS</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Count</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>This option sets the number of functions that atexit() has room for.
In other words, the number of separate atexit() calls that can be
made before calling exit() or returning from main() ( in an environment
controlled by cyg_iso_c_start() ). For strict compliance with the
ISO C standard this should be at least 32.
      </P
><H2
CLASS="SECT2"
><A
NAME="OPTION-CYGSEM-LIBC-EXIT-STOPS-SYSTEM"
>Option: _exit() stops all threads</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGSEM_LIBC_EXIT_STOPS_SYSTEM</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>If this option is enabled then _exit(), which is called from exit()
which itself is called on return from main(), stops the eCos scheduler.
For strict POSIX 1003.1 compatibility this would be the normal behaviour.
To allow the thread to simply exit, without affecting other threads,
simply disable this option. If there is no eCos scheduler, then _exit()
simply loops irrespective of the setting of this option.
      </P
><H2
CLASS="SECT2"
><A
NAME="COMPONENT-CYGPKG-LIBC-ENVIRONMENT"
>Component: Provide a system environment</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGPKG_LIBC_ENVIRONMENT</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>This option allows use of the getenv() function and the global environment
pointer char **environ defined by POSIX 1003.1. Disabling this saves
a small amount of space.
      </P
><H3
CLASS="SECT3"
><A
NAME="OPTION-CYGDAT-LIBC-DEFAULT-ENVIRONMENT"
>Option: Default environment</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDAT_LIBC_DEFAULT_ENVIRONMENT</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>String</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>This option allows the setting of the default contents of the environment.
This is in fact the contents of the global environment pointer char
**environ defined by POSIX 1003.1. Strings must be of the form NAME=VALUE,
and the final entry must be NULL.
      </P
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="option-cygnum-libc-max-locale-name-size.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ecos-ref.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="component-cygpkg-libc-trace.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Option: Size of locale name strings</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="package-cygpkg-libc.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Component: Tracing output levels in C library</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>