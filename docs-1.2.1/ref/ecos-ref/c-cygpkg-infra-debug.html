<HTML
><HEAD
><TITLE
>Component: Asserts  Tracing</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.33"><LINK
REL="HOME"
TITLE="eCos Reference
Manual"
HREF="ecos-ref.html"><LINK
REL="UP"
TITLE="Package: Infrastructure"
HREF="p-cygpkg-infra.html"><LINK
REL="PREVIOUS"
TITLE="Package: Infrastructure"
HREF="p-cygpkg-infra.html"><LINK
REL="NEXT"
TITLE="Component: Startup options"
HREF="c-cygpkg-infra-startup.html"></HEAD
><BODY
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><SPAN
CLASS="TRADEMARK"
>eCos</SPAN
><SUP
><FONT
SIZE="-4"
>TM</FONT
></SUP
> Reference
Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="p-cygpkg-infra.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 16. Package: Infrastructure</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="c-cygpkg-infra-startup.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="C-CYGPKG-INFRA-DEBUG"
>Component: Asserts &#38; Tracing</A
></H1
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGPKG_INFRA_DEBUG</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>The eCos source code contains a significant amount of internal
debugging support, in the form of assertions and tracing. Assertions
check at runtime that various conditions are as expected; if not,
execution is halted. Tracing takes the form of text messages that
are output whenever certain events occur, or whenever functions
are called or return. The most important property of these checks
and messages is that they are not required for the program to run.
It is prudent to develop software with assertions enabled, but disable
them when making a product release, thus removing the overhead of
that checking. It is possible to enable assertions and tracing independently.
There are also options controlling the exact behavior of the assertion
and tracing facilities, thus giving users finer control over the
code and data size requirements. </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="C-CYGDBG-USE-ASSERTS"
>Component: Use asserts</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_USE_ASSERTS</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>If this option is defined, asserts in the code are tested.
Assert functions (CYG_ASSERT()) are defined in "include/cyg/infra/cyg_ass.h" within
the "install" tree. If it is not defined, these
result in no additional object code and no checking of the asserted
conditions. </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="O-CYGDBG-INFRA-DEBUG-PRECONDITIONS"
>Option:
Preconditions</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_PRECONDITIONS</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>This option allows individual control of preconditions. A
precondition is one type of assert, which it is useful to control
separately from more general asserts. The function is CYG_PRECONDITION(condition,msg). </P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="O-CYGDBG-INFRA-DEBUG-POSTCONDITIONS"
>Option:
Postconditions</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_POSTCONDITIONS</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>This option allows individual control of postconditions. A
postcondition is one type of assert, which it is useful to control
separately from more general asserts. The function is CYG_POSTCONDITION(condition,msg). </P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="O-CYGDBG-INFRA-DEBUG-LOOP-INVARIANTS"
>Option:
Loop invariants</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_LOOP_INVARIANTS</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>This option allows individual control of loop invariants.
A loop invariant is one type of assert, which it is useful to control
separately from more general asserts, particularly since a loop
invariant is typically evaluated a great many times when used correctly.
The function is CYG_LOOP_INVARIANT(condition,msg). </P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="O-CYGDBG-INFRA-DEBUG-ASSERT-MESSAGE"
>Option:
Use assert text</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_ASSERT_MESSAGE</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>All assertions within eCos contain a text message which should
give some information about the condition being tested. These text
messages will end up being embedded in the application image and
hence there is a significant penalty in terms of image size. It
is possible to suppress the use of these messages by disabling this option.
This results in smaller code size, but there is less human-readable
information if an assertion actually gets triggered. </P
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="C-CYGDBG-USE-TRACING"
>Component: Use tracing</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_USE_TRACING</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>If this option is defined, tracing operations result in output
or logging, depending on other options. This may have adverse effects
on performance, if the time taken to output message overwhelms the
available CPU power or output bandwidth. Trace functions (CYG_TRACE())are
defined in <TT
CLASS="FILENAME"
>include/cyg/infra/cyg_trac.h</TT
> within the <TT
CLASS="FILENAME"
>install</TT
> tree.
If it is not defined, these result in no additional object code
and no trace information. </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="O-CYGDBG-INFRA-DEBUG-FUNCTION-REPORTS"
>Option:
Trace function reports</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_FUNCTION_REPORTS</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>This option allows individual control of function entry/exit
tracing, independent of more general tracing output. This may be
useful to remove clutter from a trace log. </P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="O-CYGDBG-INFRA-DEBUG-TRACE-MESSAGE"
>Option:
Use trace text</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_TRACE_MESSAGE</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>All trace calls within eCos contain a text message which should
give some information about the circumstances. These text messages
will end up being embedded in the application image and hence there
is a significant penalty in terms of image size. It is possible
to suppress the use of these messages by disabling this option.
This results in smaller code size, but there is less human-readable
information available in the trace output, possibly only filenames
and line numbers. </P
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="O-CYGDBG-INFRA-DEBUG-TRACE-ASSERT-NULL"
>Option:
Null output</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_TRACE_ASSERT_NULL</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Radio</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>A null output module which is useful when debugging interactively;
the output routines can be breakpointed rather than have them actually "print" something. </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="O-CYGDBG-INFRA-DEBUG-TRACE-ASSERT-SIMPLE"
>Option:
Simple output</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_TRACE_ASSERT_SIMPLE</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Radio</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>An output module which produces simple output from tracing
and assertion events. </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="O-CYGDBG-INFRA-DEBUG-TRACE-ASSERT-FANCY"
>Option:
Fancy output</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_TRACE_ASSERT_FANCY</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Radio</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>An output module which produces fancy output from tracing
and assertion events. </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="C-CYGDBG-INFRA-DEBUG-TRACE-ASSERT-BUFFER"
>Component:
Buffered tracing</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_TRACE_ASSERT_BUFFER</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Radio</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>An output module which buffers output from tracing and assertion
events. The stored messages are output when an assert fires, or
cyg_trace_output() is called. Of course, there
will only be stored messages if tracing per se (CYGDBG_USE_TRACING)
is enabled above. </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="O-CYGDBG-INFRA-DEBUG-TRACE-BUFFER-SIZE"
>Option:
Trace buffer size</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_TRACE_BUFFER_SIZE</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Count</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>The size of the trace buffer. This counts the number of trace
records stored. When the buffer fills it either wraps, stops recording,
or generates output. </P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="O-CYGDBG-INFRA-DEBUG-TRACE-BUFFER-WRAP"
>Option:
Wrap trace buffer when full</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_TRACE_BUFFER_WRAP</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Radio</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>When the trace buffer has filled with records it starts again
at the beginning. Hence only the last CYGDBG_INFRA_DEBUG_TRACE_BUFFER_SIZE
messages will be recorded. </P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="O-CYGDBG-INFRA-DEBUG-TRACE-BUFFER-HALT"
>Option:
Halt trace buffer when full</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_TRACE_BUFFER_HALT</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Radio</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>When the trace buffer has filled with records it stops recording.
Hence only the first CYGDBG_INFRA_DEBUG_TRACE_BUFFER_SIZE
messages will be recorded. </P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="O-CYGDBG-INFRA-DEBUG-TRACE-BUFFER-PRINT"
>Option:
Print trace buffer when full</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_TRACE_BUFFER_PRINT</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Radio</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>When the trace buffer has filled with records it prints the
contents of the buffer. The buffer is then emptied and the system
continues. </P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN6595"
>Option: Print trace buffer on assert fail</A
></H3
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_TRACE_BUFFER_PRINT_ON_ASSERT</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>When an assertion fails the trace buffer will be printed to
the default diagnostic device. </P
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="O-CYGDBG-INFRA-DEBUG-FUNCTION-PSEUDOMACRO"
>Option:
Use function names</A
></H2
><H4
CLASS="BRIDGEHEAD"
>Macro name</H4
><P
>CYGDBG_INFRA_DEBUG_FUNCTION_PSEUDOMACRO</P
><H4
CLASS="BRIDGEHEAD"
>Type</H4
><P
>Boolean</P
><H4
CLASS="BRIDGEHEAD"
>Description</H4
><P
>All trace and assert calls within eCos contain a reference
to the builtin macro "__PRETTY_FUNCTION__",
which evaluates to a string containing the name of the current function.
This is useful when reading a trace log. It is possible to suppress
the use of the function name by disabling this option. This results
in smaller code size, but there is less human-readable information
available in the trace output, possibly only filenames and line
numbers. </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="p-cygpkg-infra.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ecos-ref.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="c-cygpkg-infra-startup.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Package: Infrastructure</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="p-cygpkg-infra.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Component: Startup options</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>