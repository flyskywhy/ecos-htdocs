<HTML
><HEAD
><TITLE
>A tour of the kernel sources</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.33"><LINK
REL="HOME"
TITLE="eCos Reference
Manual"
HREF="ecos-ref.html"><LINK
REL="UP"
TITLE="Preliminaries"
HREF="preliminaries.html"><LINK
REL="PREVIOUS"
TITLE="Counters,
clocks, alarms and timers"
HREF="counters-clocks-alarms-and-timers.html"><LINK
REL="NEXT"
TITLE="Kernel source files"
HREF="kernel-source-files.html"></HEAD
><BODY
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><SPAN
CLASS="TRADEMARK"
>eCos</SPAN
><SUP
><FONT
SIZE="-4"
>TM</FONT
></SUP
> Reference
Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="counters-clocks-alarms-and-timers.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="kernel-source-files.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="A-TOUR-OF-THE-KERNEL-SOURCES"
>Chapter 2. A tour of the kernel sources</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="a-tour-of-the-kernel-sources.html#KERNEL-HEADERS"
>Kernel
headers</A
></DT
><DT
><A
HREF="kernel-source-files.html"
>Kernel source files</A
></DT
></DL
></DIV
><P
>This description takes the form of a tour around the sources
explaining their structure and describing the functionality of each
component. </P
><P
>The kernel is divided into two basic parts, the largely machine
independent parts in <TT
CLASS="FILENAME"
>Cygnus/eCos/packages/kernel/v1_2_1</TT
>,
and the architecture- and platform-specific parts that comprise
the Hardware Abstraction Layer (<SPAN
CLASS="ACRONYM"
>HAL</SPAN
>) in <TT
CLASS="FILENAME"
>Cygnus/eCos/packages/hal</TT
>.
These will be described separately. Also note that the HAL is described
in great detail in its own chapter (see <A
HREF="the-ecos-hardware-abstraction-layer-hal.html"
>Chapter 7</A
>). </P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="KERNEL-HEADERS"
>Kernel
headers</A
></H1
><P
>Kernel header files (in <TT
CLASS="FILENAME"
>Cygnus/eCos/packages/kernel/v1_2_1/include</TT
>)
provide external interfaces and configuration control for the various
kernel objects. In general there is an include file for each major
kernel class. Those header files having to do with configuration
live in the <TT
CLASS="FILENAME"
>pkgconf</TT
> subdirectory. </P
><P
>The base name of a header file and the source file that implements
it are usually the same. So, for example, the member functions defined
in <TT
CLASS="FILENAME"
>sched.hxx</TT
> are implemented in <TT
CLASS="FILENAME"
>sched.cxx</TT
>.
For a number of classes there are also header files that define
inline functions, for example <TT
CLASS="FILENAME"
>sched.inl</TT
>. </P
><P
>There are some kernel objects that are implemented using C++ templates
to allow code re-use in future; it is not intended that these template
classes be used generally by applications. The appropriate concrete
kernel classes should be used instead. </P
><P
>Now we examine the files one by one for reference: </P
><P
></P
><DL
><DT
><TT
CLASS="FILENAME"
><TT
CLASS="FILENAME"
>include/bitmap.hxx</TT
></TT
></DT
><DD
><P
>Bitmap scheduler definition. See source file <TT
CLASS="FILENAME"
>sched/bitmap.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/clock.hxx</TT
>, <TT
CLASS="FILENAME"
>include/clock.inl</TT
></DT
><DD
><P
>Counter, clock and alarm functions. See source file <TT
CLASS="FILENAME"
>common/clock.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/diag.h</TT
></DT
><DD
><P
>Diagnostic routines. See source file <TT
CLASS="FILENAME"
>trace/diag.c</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/errors.h</TT
></DT
><DD
><P
>Kernel error codes. See source file <TT
CLASS="FILENAME"
>common/except.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/except.hxx</TT
></DT
><DD
><P
>Exception handling.</P
></DD
><DT
><TT
CLASS="FILENAME"
>include/flag.hxx</TT
></DT
><DD
><P
>Flag synchronization objects. See source file <TT
CLASS="FILENAME"
>sync/flag.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/instrmnt.h</TT
></DT
><DD
><P
>Instrumentation. See source file <TT
CLASS="FILENAME"
>instrmnt/meminst.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/intr.hxx</TT
></DT
><DD
><P
>Interrupts. See source file <TT
CLASS="FILENAME"
>intr/intr.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/kapi.h</TT
>, <TT
CLASS="FILENAME"
>include/kapidata.h</TT
></DT
><DD
><P
>Native "C" API to the kernel.
See source file <TT
CLASS="FILENAME"
>common/kapi.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/ktypes.h</TT
></DT
><DD
><P
>Kernel types.</P
></DD
><DT
><TT
CLASS="FILENAME"
>include/llistt.hxx</TT
></DT
><DD
><P
>A simple doubly linked-list template class used
elsewhere in the kernel.</P
></DD
><DT
><TT
CLASS="FILENAME"
>include/lottery.hxx</TT
></DT
><DD
><P
>Lottery scheduler implementation. See source file <TT
CLASS="FILENAME"
>sched/lottery.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/mbox.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mboxt.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mboxt2.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mboxt.inl</TT
>, <TT
CLASS="FILENAME"
>include/mboxt2.inl</TT
></DT
><DD
><P
>Message boxes. See source file <TT
CLASS="FILENAME"
>sync/mbox.cxx</TT
>; <TT
CLASS="FILENAME"
>mboxt.hxx</TT
> and <TT
CLASS="FILENAME"
>mboxt2.hxx</TT
> and <TT
CLASS="FILENAME"
>mboxt.inl</TT
> and <TT
CLASS="FILENAME"
>mboxt2.inl</TT
> implement
the underlying template function.</P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>The files with a 2 suffix are used by default and provide
precise µITRON semantics.</P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="FILENAME"
>include/memfixed.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mempoolt.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mempolt2.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mempoolt.inl</TT
>, <TT
CLASS="FILENAME"
>include/mempolt2.inl</TT
>, <TT
CLASS="FILENAME"
>include/mfiximpl.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mfiximpl.inl</TT
></DT
><DD
><P
>Fixed-block allocation memory pools. See source
file <TT
CLASS="FILENAME"
>mem/memfixed.cxx</TT
>; mempoolt[2] and
mfiximpl are a thread-safety template function and underlying memory
manager respectively.</P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>The files with a 2 suffix are used by default and provide
precise µITRON semantics.</P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="FILENAME"
>include/memvar.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mempoolt.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mempolt2.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mempoolt.inl</TT
>, <TT
CLASS="FILENAME"
>include/mempolt2.inl</TT
>, <TT
CLASS="FILENAME"
>include/mvarimpl.hxx</TT
>, <TT
CLASS="FILENAME"
>include/mvarimpl.inl</TT
></DT
><DD
><P
>Variable-block allocation memory pools. See source
file <TT
CLASS="FILENAME"
>mem/memvar.cxx</TT
>; mempoolt[2] and
mvar are a thread-safety template function and underlying memory
manager respectively.</P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>The files with a 2 suffix are used by default and provide
precise µITRON semantics.</P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="FILENAME"
>include/mlqueue.hxx</TT
></DT
><DD
><P
>Multi-level queue scheduler. See source file <TT
CLASS="FILENAME"
>sched/mlqueue.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/mutex.hxx</TT
></DT
><DD
><P
>Mutexes. See source file <TT
CLASS="FILENAME"
>sync/mutex.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/sched.hxx</TT
>, <TT
CLASS="FILENAME"
>include/sched.inl</TT
></DT
><DD
><P
>General scheduler functions. See source file <TT
CLASS="FILENAME"
>sched/sched.cxx</TT
></P
></DD
><DT
><TT
CLASS="FILENAME"
>include/sema.hxx</TT
>, <TT
CLASS="FILENAME"
>include/sema2.hxx</TT
></DT
><DD
><P
>Semaphores. See source files <TT
CLASS="FILENAME"
>sync/cnt_sem.cxx</TT
> and <TT
CLASS="FILENAME"
>sync/bin_sem.cxx</TT
> for counting
or binary semaphores respectively.</P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>The file with a 2 suffix is used by default and provides precise µITRON semantics.</P
></BLOCKQUOTE
></DIV
></DD
><DT
><TT
CLASS="FILENAME"
>include/thread.hxx</TT
>, <TT
CLASS="FILENAME"
>include/thread.inl</TT
></DT
><DD
><P
>Threads, regardless of scheduler. See <TT
CLASS="FILENAME"
>common/thread.cxx</TT
></P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="counters-clocks-alarms-and-timers.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ecos-ref.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="kernel-source-files.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Counters,
clocks, alarms and timers</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="preliminaries.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Kernel source files</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>